// Generated by CoffeeScript 2.7.0
var a, div, echo, fetch, formatPGN, getHeader, html, parsePGN, pretty, removeParenthesis, span, splitMoves, strong, tabell, table, td, th, tr,
  indexOf = [].indexOf;

echo = console.log;

html = function(tag, first, ...args) {
  var attrs, content, openTag;
  if (typeof first === 'object' && !Array.isArray(first)) {
    attrs = Object.entries(first).map(function([k, v]) {
      return `${k}='${v}'`;
    }).join(' ');
    content = args.join('');
  } else {
    attrs = '';
    content = [first, ...args].join('');
  }
  openTag = attrs ? `<${tag} ${attrs}>` : `<${tag}>`;
  return `${openTag}${content}</${tag}>`;
};

table = function(...args) {
  return html('table', ...args);
};

tr = function(...args) {
  return html('tr', ...args);
};

td = function(...args) {
  return html('td', ...args);
};

span = function(...args) {
  return html("span", ...args);
};

table = function(...args) {
  return html("table", ...args);
};

th = function(...args) {
  return html("th", ...args);
};

a = function(...args) {
  return html("a", ...args);
};

strong = function(...args) {
  return html("strong", ...args);
};

div = function(...args) {
  return html("div", ...args);
};

formatPGN = function() {
  var ctrlA, ctrlB, ctrlC, input;
  ctrlA = document.getElementById("pgn-input");
  ctrlB = document.getElementById("knapp");
  ctrlC = document.getElementById("output");
  ctrlA.hidden = true;
  ctrlB.hidden = true;
  input = ctrlA.value;
  return ctrlC.innerHTML = parsePGN(input);
};

pretty = function(raw) {
  var arr, move;
  if (indexOf.call(raw, "{") < 0) {
    return [raw.trim(), '', ''];
  }
  arr = raw.split(' ');
  move = arr[0];
  if ("Inaccuracy." === arr[3]) {
    return [move, ' • ', arr[4]];
  }
  if ("Mistake." === arr[3]) {
    return [move, ' •• ', arr[4]];
  }
  if ("Blunder." === arr[3]) {
    return [move, ' ••• ', arr[4]];
  }
  if ("Checkmate" === arr[3]) {
    return [move, ' ••• ', arr[7]];
  }
  if ("checkmate" === arr[5]) {
    return [move, ' ••• ', arr[7]];
  }
  return [move, '', ''];
};

// echo ["d5",""], pretty "d5  "
// pretty "Bh5  { Inaccuracy. Bxf3 was best. }  " => ["Bh5","• (Bxf3)"]
fetch = function(pgn, move, offset, start, stopp) {
  var p, q, result;
  a = offset + move.toString().length;
  p = pgn.indexOf(start);
  q = pgn.indexOf(stopp);
  if (p === -1) {
    return ['', '', ''];
  }
  if (q === -1) {
    q = pgn.length;
  }
  result = pretty(pgn.substring(p + a, q));
  echo(result);
  return result;
};

splitMoves = function(pgn) {
  var arr, b, move, w;
  arr = [];
  move = 1;
  while (true) {
    w = fetch(pgn, move, 2, move + '.', move + '...');
    if (w.join('').length === 0) {
      break;
    }
    arr.push(w);
    b = fetch(pgn, move, 4, move + '...', (move + 1) + '.');
    if (b.join('').length === 0) {
      break;
    }
    arr.push(b);
    move++;
  }
  return arr;
};

removeParenthesis = function(pgn, left, right) {
  var ch, j, len, level, result;
  result = "";
  level = 0;
  for (j = 0, len = pgn.length; j < len; j++) {
    ch = pgn[j];
    if (ch === left) {
      level++;
    } else if (ch === right) {
      level--;
    } else if (level === 0) {
      result += ch;
    }
  }
  return result;
};

tabell = function(arr) {
  var b, c, d, e, f, i, index, j, n, ref, s;
  s = "";
  n = arr.length; // antal ply
  for (i = j = 0, ref = n / 2; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
    index = 2 * i;
    [c, b, a] = index < n ? arr[index] : ['', '', ''];
    [d, e, f] = index + 1 < n ? arr[index + 1] : ['', '', ''];
    s += tr({}, td(a, td(b, td(c, td(strong(1 + i, td(d, td(e, td(f)))))))));
  }
  return table({
    class: "inner-table"
  }, s);
};

getHeader = function(pgn) {
  var arr, attrs, i, j, line, name, p, ref, result, site, value;
  arr = pgn.split('\n');
  attrs = {};
  result = "";
  attrs.Event = "";
  attrs.Date = "";
  attrs.Site = "";
  attrs.TimeControl = "";
  attrs.FEN = "";
  attrs.WhiteElo = "";
  attrs.White = "";
  attrs.BlackElo = "";
  attrs.Black = "";
  attrs.Result = "";
  for (i = j = 0, ref = arr.length; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
    line = arr[i].trim();
    if (line === '') {
      break;
    }
    p = line.indexOf(' ');
    name = line.substring(1, p);
    value = line.substring(p + 2, line.length - 2);
    attrs[name] = value;
  }
  site = a({
    href: attrs.Site
  }, "Lichess");
  return `${attrs.Event} ${attrs.Date}<br>${site}<br> FEN: ${attrs.FEN}<br> White: ${attrs.WhiteElo} ${attrs.White}<br>Black: ${attrs.BlackElo} ${attrs.Black}<br>${attrs.Result}<br><br>`;
};

parsePGN = function(pgn) {
  var header;
  header = getHeader(pgn);
  pgn = removeParenthesis(pgn, '(', ')');
  pgn = removeParenthesis(pgn, '[', ']');
  pgn = pgn.replaceAll('{  }', '');
  pgn = pgn.replaceAll('??', '');
  pgn = pgn.replaceAll('?!', '');
  pgn = pgn.replaceAll('?', '');
  pgn = pgn.replaceAll('0-1', '');
  pgn = pgn.replaceAll('1/2-1/2', '');
  pgn = pgn.replaceAll('1-0', '');
  pgn = pgn.replaceAll('*', '');
  return div({}, header, tabell(splitMoves(pgn)));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwiLCJzb3VyY2VzIjpbImNvZmZlZVxcc2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxpQkFBQSxFQUFBLElBQUEsRUFBQSxVQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBO0VBQUE7O0FBQUEsSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFFZixJQUFBLEdBQU8sUUFBQSxDQUFDLEdBQUQsRUFBTSxLQUFOLEVBQUEsR0FBYSxJQUFiLENBQUE7QUFDUCxNQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUE7RUFBQyxJQUFHLE9BQU8sS0FBUCxLQUFnQixRQUFoQixJQUE2QixDQUFJLEtBQUssQ0FBQyxPQUFOLENBQWMsS0FBZCxDQUFwQztJQUNDLEtBQUEsR0FBUSxNQUFNLENBQUMsT0FBUCxDQUFlLEtBQWYsQ0FBcUIsQ0FBQyxHQUF0QixDQUEwQixRQUFBLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFELENBQUE7YUFBWSxDQUFBLENBQUEsQ0FBRyxDQUFILENBQUEsRUFBQSxDQUFBLENBQVMsQ0FBVCxDQUFBLENBQUE7SUFBWixDQUExQixDQUFvRCxDQUFDLElBQXJELENBQTBELEdBQTFEO0lBQ1IsT0FBQSxHQUFVLElBQUksQ0FBQyxJQUFMLENBQVUsRUFBVixFQUZYO0dBQUEsTUFBQTtJQUlDLEtBQUEsR0FBUTtJQUNSLE9BQUEsR0FBVSxDQUFDLEtBQUQsRUFBUSxHQUFBLElBQVIsQ0FBZ0IsQ0FBQyxJQUFqQixDQUFzQixFQUF0QixFQUxYOztFQU9BLE9BQUEsR0FBYSxLQUFILEdBQWMsQ0FBQSxDQUFBLENBQUEsQ0FBSSxHQUFKLEVBQUEsQ0FBQSxDQUFXLEtBQVgsQ0FBQSxDQUFBLENBQWQsR0FBdUMsQ0FBQSxDQUFBLENBQUEsQ0FBSSxHQUFKLENBQUEsQ0FBQTtTQUNqRCxDQUFBLENBQUEsQ0FBRyxPQUFILENBQUEsQ0FBQSxDQUFhLE9BQWIsQ0FBQSxFQUFBLENBQUEsQ0FBeUIsR0FBekIsQ0FBQSxDQUFBO0FBVE07O0FBV1AsS0FBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxPQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBQ1IsRUFBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxJQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBQ1IsRUFBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxJQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBQ1IsSUFBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxNQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBQ1IsS0FBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxPQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBQ1IsRUFBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxJQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBQ1IsQ0FBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxHQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBQ1IsTUFBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxRQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBQ1IsR0FBQSxHQUFRLFFBQUEsQ0FBQSxHQUFDLElBQUQsQ0FBQTtTQUFhLElBQUEsQ0FBSyxLQUFMLEVBQWMsR0FBQSxJQUFkO0FBQWI7O0FBRVIsU0FBQSxHQUFZ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QUNYLE1BQUE7RUFBQyxNQUFBLEdBQVMsU0FBQSxDQUFVLEdBQVY7RUFDVCxHQUFBLEdBQU0saUJBQUEsQ0FBa0IsR0FBbEIsRUFBc0IsR0FBdEIsRUFBMEIsR0FBMUI7RUFDTixHQUFBLEdBQU0saUJBQUEsQ0FBa0IsR0FBbEIsRUFBc0IsR0FBdEIsRUFBMEIsR0FBMUI7RUFDTixHQUFBLEdBQU0sR0FBRyxDQUFDLFVBQUosQ0FBZSxNQUFmLEVBQXNCLEVBQXRCO0VBQ04sR0FBQSxHQUFNLEdBQUcsQ0FBQyxVQUFKLENBQWUsSUFBZixFQUFvQixFQUFwQjtFQUNOLEdBQUEsR0FBTSxHQUFHLENBQUMsVUFBSixDQUFlLElBQWYsRUFBb0IsRUFBcEI7RUFDTixHQUFBLEdBQU0sR0FBRyxDQUFDLFVBQUosQ0FBZSxHQUFmLEVBQW1CLEVBQW5CO0VBQ04sR0FBQSxHQUFNLEdBQUcsQ0FBQyxVQUFKLENBQWUsS0FBZixFQUFxQixFQUFyQjtFQUNOLEdBQUEsR0FBTSxHQUFHLENBQUMsVUFBSixDQUFlLFNBQWYsRUFBeUIsRUFBekI7RUFDTixHQUFBLEdBQU0sR0FBRyxDQUFDLFVBQUosQ0FBZSxLQUFmLEVBQXFCLEVBQXJCO0VBQ04sR0FBQSxHQUFNLEdBQUcsQ0FBQyxVQUFKLENBQWUsR0FBZixFQUFtQixFQUFuQjtTQUNOLEdBQUEsQ0FBSSxDQUFBLENBQUosRUFBUSxNQUFSLEVBQWdCLE1BQUEsQ0FBTyxVQUFBLENBQVcsR0FBWCxDQUFQLENBQWhCO0FBWlUiLCJzb3VyY2VzQ29udGVudCI6WyJlY2hvID0gY29uc29sZS5sb2dcclxuXHJcbmh0bWwgPSAodGFnLCBmaXJzdCwgYXJncy4uLikgLT5cclxuXHRpZiB0eXBlb2YgZmlyc3QgaXMgJ29iamVjdCcgYW5kIG5vdCBBcnJheS5pc0FycmF5IGZpcnN0XHJcblx0XHRhdHRycyA9IE9iamVjdC5lbnRyaWVzKGZpcnN0KS5tYXAoKFtrLCB2XSkgLT4gXCIje2t9PScje3Z9J1wiKS5qb2luICcgJ1xyXG5cdFx0Y29udGVudCA9IGFyZ3Muam9pbiAnJ1xyXG5cdGVsc2VcclxuXHRcdGF0dHJzID0gJydcclxuXHRcdGNvbnRlbnQgPSBbZmlyc3QsIGFyZ3MuLi5dLmpvaW4gJydcclxuXHJcblx0b3BlblRhZyA9IGlmIGF0dHJzIHRoZW4gXCI8I3t0YWd9ICN7YXR0cnN9PlwiIGVsc2UgXCI8I3t0YWd9PlwiXHJcblx0XCIje29wZW5UYWd9I3tjb250ZW50fTwvI3t0YWd9PlwiXHJcblxyXG50YWJsZSA9IChhcmdzLi4uKSAtPiBodG1sICd0YWJsZScsIGFyZ3MuLi5cclxudHIgICAgPSAoYXJncy4uLikgLT4gaHRtbCAndHInLCAgICBhcmdzLi4uXHJcbnRkICAgID0gKGFyZ3MuLi4pIC0+IGh0bWwgJ3RkJywgICAgYXJncy4uLlxyXG5zcGFuICA9IChhcmdzLi4uKSAtPiBodG1sIFwic3BhblwiLCAgYXJncy4uLlxyXG50YWJsZSA9IChhcmdzLi4uKSAtPiBodG1sIFwidGFibGVcIiwgYXJncy4uLlxyXG50aCAgICA9IChhcmdzLi4uKSAtPiBodG1sIFwidGhcIiwgICAgYXJncy4uLlxyXG5hICAgICA9IChhcmdzLi4uKSAtPiBodG1sIFwiYVwiLCAgICAgYXJncy4uLlxyXG5zdHJvbmc9IChhcmdzLi4uKSAtPiBodG1sIFwic3Ryb25nXCIsYXJncy4uLlxyXG5kaXYgICA9IChhcmdzLi4uKSAtPiBodG1sIFwiZGl2XCIsICAgYXJncy4uLlxyXG5cclxuZm9ybWF0UEdOID0gLT5cclxuXHRjdHJsQSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwicGduLWlucHV0XCJcclxuXHRjdHJsQiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwia25hcHBcIlxyXG5cdGN0cmxDID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJvdXRwdXRcIlxyXG5cdGN0cmxBLmhpZGRlbiA9IHRydWVcclxuXHRjdHJsQi5oaWRkZW4gPSB0cnVlXHJcblx0aW5wdXQgPSBjdHJsQS52YWx1ZVxyXG5cdGN0cmxDLmlubmVySFRNTCA9IHBhcnNlUEdOIGlucHV0IFxyXG5cclxucHJldHR5ID0gKHJhdykgLT5cclxuXHRpZiBcIntcIiBub3QgaW4gcmF3IHRoZW4gcmV0dXJuIFtyYXcudHJpbSgpLCcnLCcnXVxyXG5cdGFyciA9IHJhdy5zcGxpdCAnICdcclxuXHRtb3ZlID0gYXJyWzBdXHJcblx0aWYgXCJJbmFjY3VyYWN5LlwiID09IGFyclszXSB0aGVuIHJldHVybiBbbW92ZSwgJyDigKIgJywgICBhcnJbNF1dXHJcblx0aWYgXCJNaXN0YWtlLlwiICAgID09IGFyclszXSB0aGVuIHJldHVybiBbbW92ZSwgJyDigKLigKIgJywgIGFycls0XV1cclxuXHRpZiBcIkJsdW5kZXIuXCIgICAgPT0gYXJyWzNdIHRoZW4gcmV0dXJuIFttb3ZlLCAnIOKAouKAouKAoiAnLCBhcnJbNF1dXHJcblx0aWYgXCJDaGVja21hdGVcIiAgID09IGFyclszXSB0aGVuIHJldHVybiBbbW92ZSwgJyDigKLigKLigKIgJywgYXJyWzddXVxyXG5cdGlmIFwiY2hlY2ttYXRlXCIgICA9PSBhcnJbNV0gdGhlbiByZXR1cm4gW21vdmUsICcg4oCi4oCi4oCiICcsIGFycls3XV1cclxuXHRbbW92ZSwnJywnJ11cclxuIyBlY2hvIFtcImQ1XCIsXCJcIl0sIHByZXR0eSBcImQ1ICBcIlxyXG4jIHByZXR0eSBcIkJoNSAgeyBJbmFjY3VyYWN5LiBCeGYzIHdhcyBiZXN0LiB9ICBcIiA9PiBbXCJCaDVcIixcIuKAoiAoQnhmMylcIl1cclxuXHJcbmZldGNoID0gKHBnbiwgbW92ZSwgb2Zmc2V0LCBzdGFydCwgc3RvcHApIC0+XHJcblx0YSA9IG9mZnNldCArIG1vdmUudG9TdHJpbmcoKS5sZW5ndGhcclxuXHRwID0gcGduLmluZGV4T2Ygc3RhcnRcclxuXHRxID0gcGduLmluZGV4T2Ygc3RvcHBcclxuXHRpZiBwID09IC0xIHRoZW4gcmV0dXJuIFsnJywnJywnJ11cclxuXHRpZiBxID09IC0xIHRoZW4gcSA9IHBnbi5sZW5ndGhcclxuXHRyZXN1bHQgPSBwcmV0dHkgcGduLnN1YnN0cmluZyBwK2EscVxyXG5cdGVjaG8gcmVzdWx0XHJcblx0cmVzdWx0XHJcblxyXG5zcGxpdE1vdmVzID0gKHBnbikgLT5cclxuXHRhcnIgPSBbXVxyXG5cdG1vdmUgPSAxIFxyXG5cdHdoaWxlIHRydWVcclxuXHRcdHcgPSBmZXRjaCBwZ24sIG1vdmUsIDIsIG1vdmUgKyAnLicsIG1vdmUgKyAnLi4uJ1xyXG5cdFx0aWYgdy5qb2luKCcnKS5sZW5ndGggPT0gMCB0aGVuIGJyZWFrXHJcblx0XHRhcnIucHVzaCB3XHJcblxyXG5cdFx0YiA9IGZldGNoIHBnbiwgbW92ZSwgNCwgbW92ZSArICcuLi4nLCAobW92ZSsxKSArICcuJ1xyXG5cdFx0aWYgYi5qb2luKCcnKS5sZW5ndGggPT0gMCB0aGVuIGJyZWFrXHJcblx0XHRhcnIucHVzaCBiXHJcblxyXG5cdFx0bW92ZSsrXHJcblx0YXJyXHJcblxyXG5yZW1vdmVQYXJlbnRoZXNpcyA9IChwZ24sIGxlZnQscmlnaHQpIC0+XHJcblx0cmVzdWx0ID0gXCJcIlxyXG5cdGxldmVsID0gMFxyXG5cdGZvciBjaCBpbiBwZ25cclxuXHRcdGlmIGNoID09IGxlZnQgdGhlbiBsZXZlbCsrXHJcblx0XHRlbHNlIGlmIGNoID09IHJpZ2h0IHRoZW4gbGV2ZWwtLVxyXG5cdFx0ZWxzZSBpZiBsZXZlbCA9PSAwIHRoZW4gcmVzdWx0ICs9IGNoXHJcblx0cmVzdWx0XHJcblxyXG50YWJlbGwgPSAoYXJyKSAtPlxyXG5cdHMgPSBcIlwiXHJcblx0biA9IGFyci5sZW5ndGggIyBhbnRhbCBwbHlcclxuXHRmb3IgaSBpbiBbMC4uLm4vMl1cclxuXHRcdGluZGV4ID0gMippXHJcblx0XHRbYyxiLGFdID0gaWYgaW5kZXggICA8IG4gdGhlbiBhcnJbaW5kZXhdICAgZWxzZSBbJycsJycsJyddXHJcblx0XHRbZCxlLGZdID0gaWYgaW5kZXgrMSA8IG4gdGhlbiBhcnJbaW5kZXgrMV0gZWxzZSBbJycsJycsJyddXHJcblx0XHRzICs9IHRyIHt9LCB0ZCBhLCB0ZCBiLCB0ZCBjLCB0ZCBzdHJvbmcgMStpLCB0ZCBkLCB0ZCBlLCB0ZCBmXHJcblx0dGFibGUge2NsYXNzOlwiaW5uZXItdGFibGVcIn0sIHNcclxuXHJcbmdldEhlYWRlciA9IChwZ24pIC0+XHJcblx0YXJyID0gcGduLnNwbGl0ICdcXG4nXHJcblx0YXR0cnMgPSB7fVxyXG5cdHJlc3VsdCA9IFwiXCJcclxuXHRhdHRycy5FdmVudCA9IFwiXCJcclxuXHRhdHRycy5EYXRlID0gXCJcIlxyXG5cdGF0dHJzLlNpdGUgPSBcIlwiXHJcblx0YXR0cnMuVGltZUNvbnRyb2wgPSBcIlwiXHJcblx0YXR0cnMuRkVOID0gXCJcIlxyXG5cdGF0dHJzLldoaXRlRWxvID0gXCJcIlxyXG5cdGF0dHJzLldoaXRlID0gXCJcIlxyXG5cdGF0dHJzLkJsYWNrRWxvID0gXCJcIlxyXG5cdGF0dHJzLkJsYWNrID0gXCJcIlxyXG5cdGF0dHJzLlJlc3VsdCA9IFwiXCJcclxuXHRmb3IgaSBpbiBbMC4uLmFyci5sZW5ndGhdXHJcblx0XHRsaW5lID0gYXJyW2ldLnRyaW0oKVxyXG5cdFx0aWYgbGluZSA9PSAnJyB0aGVuIGJyZWFrXHJcblx0XHRwID0gbGluZS5pbmRleE9mICcgJ1xyXG5cdFx0bmFtZSA9IGxpbmUuc3Vic3RyaW5nIDEscFxyXG5cdFx0dmFsdWUgPSBsaW5lLnN1YnN0cmluZyBwKzIsbGluZS5sZW5ndGgtMlxyXG5cdFx0YXR0cnNbbmFtZV0gPSB2YWx1ZVxyXG5cclxuXHRzaXRlID0gYSB7aHJlZjphdHRycy5TaXRlfSwgXCJMaWNoZXNzXCJcclxuXHRcIiN7YXR0cnMuRXZlbnR9ICN7YXR0cnMuRGF0ZX08YnI+I3tzaXRlfTxicj4gRkVOOiAje2F0dHJzLkZFTn08YnI+IFdoaXRlOiAje2F0dHJzLldoaXRlRWxvfSAje2F0dHJzLldoaXRlfTxicj5CbGFjazogI3thdHRycy5CbGFja0Vsb30gI3thdHRycy5CbGFja308YnI+I3thdHRycy5SZXN1bHR9PGJyPjxicj5cIlxyXG5cclxucGFyc2VQR04gPSAocGduKSAtPiBcclxuXHRoZWFkZXIgPSBnZXRIZWFkZXIgcGduXHJcblx0cGduID0gcmVtb3ZlUGFyZW50aGVzaXMgcGduLCcoJywnKSdcclxuXHRwZ24gPSByZW1vdmVQYXJlbnRoZXNpcyBwZ24sJ1snLCddJ1xyXG5cdHBnbiA9IHBnbi5yZXBsYWNlQWxsICd7ICB9JywnJ1xyXG5cdHBnbiA9IHBnbi5yZXBsYWNlQWxsICc/PycsJydcclxuXHRwZ24gPSBwZ24ucmVwbGFjZUFsbCAnPyEnLCcnXHJcblx0cGduID0gcGduLnJlcGxhY2VBbGwgJz8nLCcnXHJcblx0cGduID0gcGduLnJlcGxhY2VBbGwgJzAtMScsJydcclxuXHRwZ24gPSBwZ24ucmVwbGFjZUFsbCAnMS8yLTEvMicsJydcclxuXHRwZ24gPSBwZ24ucmVwbGFjZUFsbCAnMS0wJywnJ1xyXG5cdHBnbiA9IHBnbi5yZXBsYWNlQWxsICcqJywnJ1xyXG5cdGRpdiB7fSwgaGVhZGVyLCB0YWJlbGwgc3BsaXRNb3ZlcyBwZ25cclxuIl19
//# sourceURL=c:\github\2025\003-PrettyPGN\coffee\sketch.coffee