// Generated by CoffeeScript 2.7.0
var a, chess, div, echo, formatPGN, games, html, makePly, moves, pgnText, span, strong, table, td, th, tr;

import {
  Chess
} from 'https://cdn.jsdelivr.net/npm/chess.js@0.13.4/+esm';

echo = console.log;

chess = new Chess();

chess.load_pgn("1. c4 { [%eval 0.12] [%eval 0.12] } 1... e5 { [%eval 0.12] [%eval 0.12] } 2. Nc3 { [%eval 0.04] [%eval 0.04] } 2... Nf6 { [%eval 0.12] [%eval 0.12] } 3. Nf3 { [%eval 0.1] [%eval 0.1] } 3... e4 { [%eval 0.47] [%eval 0.47] } 4. Ng5 { [%eval 0.32] [%eval 0.32] } 4... d5?! { [%eval 0.94] } { Inaccuracy. c6 was best. } { Inaccuracy. c6 was best. } { [%eval 0.94] } (4... c6 5. Qa4 Qe7 6. Qc2 b5 7. cxb5 d5 8. e3 h6 9. Nh3) 5. cxd5 { [%eval 0.96] [%eval 0.96] } 5... Nxd5 { [%eval 0.94] [%eval 0.94] } 6. Qa4+ { [%eval 1.0] [%eval 1.0] } 6... c6 { [%eval 0.92] [%eval 0.92] } 7. Nxd5 { [%eval 0.69] [%eval 0.69] } 7... Qxd5 { [%eval 0.77] [%eval 0.77] } 8. Qxe4+ { [%eval 0.84] [%eval 0.78] } 8... Qxe4 { [%eval 0.85] [%eval 0.97] } 9. Nxe4 { [%eval 0.9] [%eval 0.92] } 9... f5 { [%eval 0.94] [%eval 0.94] } 10. Ng5 { [%eval 0.96] [%eval 0.87] } 10... Be7 { [%eval 0.99] [%eval 1.03] } 11. Nf3 { [%eval 0.73] [%eval 0.65] } 11... Bf6 { [%eval 0.98] [%eval 1.01] } 12. d4 { [%eval 0.92] [%eval 1.05] } 12... Be6?! { [%eval 1.5] } { Inaccuracy. c5 was best. } { [%eval 1.51] } (12... c5) 13. Bg5 { [%eval 1.44] [%eval 1.48] } 13... Rf8 { [%eval 1.72] [%eval 1.74] } 14. e3 { [%eval 1.62] [%eval 1.64] } 14... Nd7 { [%eval 1.71] [%eval 1.84] } 15. Bd3 { [%eval 1.51] [%eval 1.55] } 15... h6 { [%eval 1.7] [%eval 1.77] } 16. Bxf6 { [%eval 1.7] [%eval 1.77] } 16... Rxf6 { [%eval 1.57] [%eval 1.72] } 17. b3 { [%eval 1.39] [%eval 1.5] } 17... Ke7 { [%eval 1.42] [%eval 1.69] } 18. O-O-O { [%eval 1.25] [%eval 1.4] } 18... g5 { [%eval 1.43] [%eval 1.42] } 19. Nd2 { [%eval 1.41] [%eval 1.46] } 19... b5 { [%eval 1.5] [%eval 1.6] } 20. Rhe1 { [%eval 1.52] [%eval 1.72] } 20... Bd5 { [%eval 1.56] [%eval 1.67] } 21. f3 { [%eval 1.58] [%eval 1.72] } 21... Kf8 { [%eval 2.03] [%eval 2.08] } 22. e4 { [%eval 1.97] [%eval 2.11] } 22... Be6 { [%eval 2.02] [%eval 2.03] } 23. Kb2 { [%eval 1.89] [%eval 1.93] } 23... Nb6?! { [%eval 2.84] } { Inaccuracy. Rd8 was best. } { Inaccuracy. Rd8 was best. } { [%eval 2.95] } (23... Rd8 24. Nf1 (24. exf5)) 24. Rc1 { [%eval 2.73] [%eval 2.92] } 24... Bd7?! { [%eval 3.88] } { Inaccuracy. Rc8 was best. } { Inaccuracy. Rc8 was best. } { [%eval 4.09] } (24... Rc8 25. exf5 Bxf5 26. Bxf5 Rxf5 27. Re6 Rf4 28. Rxh6 Rh4 29. Rg6 Nd5 30. Rxg5) 25. e5 { [%eval 3.81] [%eval 4.15] } 25... Rg6 { [%eval 4.27] [%eval 4.19] } 26. g4 { [%eval 4.15] [%eval 4.34] } 26... Re8?! { [%eval 5.16] } { Inaccuracy. Rg8 was best. } { [%eval 5.61] } (26... Rg8 27. gxf5 Nd5 28. Be4 Nf4 29. b4 a5 30. bxa5 Rxa5 31. Nb3 Ra8 32. f6) 27. gxf5 { [%eval 5.11] [%eval 5.67] } 27... Rg8 { [%eval 5.14] [%eval 5.71] } 28. e6 { [%eval 5.12] [%eval 5.73] } 1-0");

echo(chess);

echo(chess.moves());

moves = chess.history();

document.getElementById('output').textContent = `Läst PGN framgångsrikt!
Antal drag: ${moves.length}
Drag: ${moves.join(', ')}`;

console.log("Schackhistorik:", moves);

console.log("Slutposition (FEN):", chess.fen());

echo = console.log;

// import {parse} from "https://cdn.jsdelivr.net/npm/@mliebelt/pgn-parser/+esm";
html = function(tag, first, ...args) {
  var attrs, content, openTag;
  if (typeof first === 'object' && !Array.isArray(first)) {
    attrs = Object.entries(first).map(function([k, v]) {
      return `${k}='${v}'`;
    }).join(' ');
    content = args.join('');
  } else {
    attrs = '';
    content = [first, ...args].join('');
  }
  openTag = attrs ? `<${tag} ${attrs}>` : `<${tag}>`;
  return `${openTag}${content}</${tag}>`;
};

pgnText = "";

table = function(...args) {
  return html('table', ...args);
};

tr = function(...args) {
  return html('tr', ...args);
};

td = function(...args) {
  return html('td', ...args);
};

span = function(...args) {
  return html("span", ...args);
};

table = function(...args) {
  return html("table", ...args);
};

th = function(...args) {
  return html("th", ...args);
};

a = function(...args) {
  return html("a", ...args);
};

strong = function(...args) {
  return html("strong", ...args);
};

div = function(...args) {
  return html("div", ...args);
};

makePly = function(ply) {
  var arr, comment, diag, p, s;
  if (ply === void 0) {
    return '';
  }
  echo('in', ply);
  s = {};
  s.san = ply.notation.notation;
  diag = ply.commentDiag;
  s.eval = diag.eval;
  s.clk = diag.clk;
  s.betyg = 0;
  s.best = '';
  comment = diag.comment;
  // s.comment = comment
  if (comment === void 0) {
    return s;
  }
  if (comment.includes("Inaccuracy")) {
    s.betyg = 1;
  }
  if (comment.includes("Mistake")) {
    s.betyg = 2;
  }
  if (comment.includes("Blunder")) {
    s.betyg = 3;
  }
  if (comment.includes("Checkmate")) {
    s.betyg = 2;
  }
  p = comment.indexOf('was best');
  if (p >= 0) {
    arr = comment.split(' ');
    s.best = arr.slice(-4, -3)[0];
  }
  return s;
};

formatPGN = function() {
  pgnText = document.getElementById("pgn-input").value;
  return echo(pgnText);
};

document.getElementById("knapp").addEventListener("click", formatPGN);

games = parse(pgnText);

echo(games);

// game = games[0]
// if game.tags.FEN == undefined then game.tags.FEN = ""
// echo typeof game.tags.Date
// if typeof game.tags.Date == 'string'
// else
// 	game.tags.Date = game.tags.Date.value

// echo game

// echo game.tags.White
// echo game.tags.WhiteElo
// echo game.tags.Black
// echo game.tags.BlackElo
// echo game.tags.Site
// echo game.tags.Date
// echo game.tags.FEN
// echo game.tags.Result
// # echo game.tags.TimeControl[0].value

// plies = (makePly ply for ply in game.moves)
// echo plies

// container = document.getElementById "output"
// rows = ""
// rows += th {}, "nr"
// rows += th {}, "best"
// rows += th {}, "eval"
// rows += th {}, "white"
// rows += th {}, "black"
// rows += th {}, "eval"
// rows += th {}, "best"
// rows = tr {}, rows

// arrBetyg = ['','•','••','•••']
// for i in [0..plies.length/2]
// 	w = plies[2*i]
// 	b = plies[2*i+1]
// 	s = td {}, i+1
// 	if w != undefined
// 		s += td {}, w.best
// 		s += td {}, arrBetyg[w.betyg]
// 		s += td {}, w.san
// 		# s += td {}, w.clk
// 	if b != undefined
// 		s += td {}, b.san
// 		s += td {}, arrBetyg[b.betyg]
// 		s += td {}, b.best
// 		# s += td {}, b.clk
// 	if w and b then rows += tr {}, s
// rows = table {}, rows
// header = ""
// header += 'White: ' + game.tags.Result[0] + ' ' + game.tags.WhiteElo + ' ' + game.tags.White + '<br>'
// header += 'Black: ' + game.tags.Result[2] + ' ' + game.tags.BlackElo + ' ' + game.tags.Black + '<br>'
// header += "#{game.tags.Date} <a href='#{game.tags.Site}'>#{game.tags.Site}</a>" #<br>" 
// if game.tags.FEN then header += game.tags.FEN  + '<br>'

// container.innerHTML = header + '<br>' + rows
// # container.innerHTML = rows
// echo rows

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwiLCJzb3VyY2VzIjpbImNvZmZlZVxcc2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsS0FBVDtDQUFBLE1BQUE7O0FBRUEsSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFFZixLQUFBLEdBQVEsSUFBSSxLQUFKLENBQUE7O0FBRVIsS0FBSyxDQUFDLFFBQU4sQ0FBZSwwbEZBQWY7O0FBR0EsSUFBQSxDQUFLLEtBQUw7O0FBQ0EsSUFBQSxDQUFLLEtBQUssQ0FBQyxLQUFOLENBQUEsQ0FBTDs7QUFFQSxLQUFBLEdBQVEsS0FBSyxDQUFDLE9BQU4sQ0FBQTs7QUFDUixRQUFRLENBQUMsY0FBVCxDQUF3QixRQUF4QixDQUFpQyxDQUFDLFdBQWxDLEdBQWdELENBQUE7WUFBQSxDQUFBLENBRWpDLEtBQUssQ0FBQyxNQUYyQixDQUFBO01BQUEsQ0FBQSxDQUd2QyxLQUFLLENBQUMsSUFBTixDQUFXLElBQVgsQ0FIdUMsQ0FBQTs7QUFLaEQsT0FBTyxDQUFDLEdBQVIsQ0FBWSxpQkFBWixFQUErQixLQUEvQjs7QUFDQSxPQUFPLENBQUMsR0FBUixDQUFZLHFCQUFaLEVBQW1DLEtBQUssQ0FBQyxHQUFOLENBQUEsQ0FBbkM7O0FBRUEsSUFBQSxHQUFPLE9BQU8sQ0FBQyxJQXJCZjs7O0FBeUJBLElBQUEsR0FBTyxRQUFBLENBQUMsR0FBRCxFQUFNLEtBQU4sRUFBQSxHQUFhLElBQWIsQ0FBQTtBQUNQLE1BQUEsS0FBQSxFQUFBLE9BQUEsRUFBQTtFQUFDLElBQUcsT0FBTyxLQUFQLEtBQWdC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O0VBQ0EsSUFBRyxPQUFPLENBQUMsUUFBUixDQUFpQixZQUFqQixDQUFIO0lBQXNDLENBQUMsQ0FBQyxLQUFGLEdBQVUsRUFBaEQ7O0VBQ0EsSUFBRyxPQUFPLENBQUMsUUFBUixDQUFpQixTQUFqQixDQUFIO0lBQW1DLENBQUMsQ0FBQyxLQUFGLEdBQVUsRUFBN0M7O0VBQ0EsSUFBRyxPQUFPLENBQUMsUUFBUixDQUFpQixTQUFqQixDQUFIO0lBQW1DLENBQUMsQ0FBQyxLQUFGLEdBQVUsRUFBN0M7O0VBQ0EsSUFBRyxPQUFPLENBQUMsUUFBUixDQUFpQixXQUFqQixDQUFIO0lBQXFDLENBQUMsQ0FBQyxLQUFGLEdBQVUsRUFBL0M7O0VBQ0EsQ0FBQSxHQUFJLE9BQU8sQ0FBQyxPQUFSLENBQWdCLFVBQWhCO0VBQ0osSUFBRyxDQUFBLElBQUssQ0FBUjtJQUNDLEdBQUEsR0FBTSxPQUFPLENBQUMsS0FBUixDQUFjLEdBQWQ7SUFDTixDQUFDLENBQUMsSUFBRixHQUFTLEdBQUcsQ0FBQyxLQUFKLENBQVUsQ0FBQyxDQUFYLEVBQWEsQ0FBQyxDQUFkLENBQWdCLENBQUMsQ0FBRCxFQUYxQjs7U0FHQTtBQXJCUzs7QUF1QlYsU0FBQSxHQUFZLFFBQUEsQ0FBQSxDQUFBO0VBQ1gsT0FBQSxHQUFVLFFBQVEsQ0FBQyxjQUFULENBQXdCLFdBQXhCLENBQW9DLENBQUM7U0FDL0MsSUFBQSxDQUFLLE9BQUw7QUFGVzs7QUFJWixRQUFRLENBQUMsY0FBVCxDQUF3QixPQUF4QixDQUFnQyxDQUFDLGdCQUFqQyxDQUFrRCxPQUFsRCxFQUEyRCxTQUEzRDs7QUFHQSxLQUFBLEdBQVEsS0FBQSxDQUFNLE9BQU47O0FBQ1IsSUFBQSxDQUFLLEtBQUw7O0FBOUVBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hlc3MgfSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2NoZXNzLmpzQDAuMTMuNC8rZXNtJ1xyXG5cclxuZWNobyA9IGNvbnNvbGUubG9nXHJcblxyXG5jaGVzcyA9IG5ldyBDaGVzcygpXHJcblx0XHJcbmNoZXNzLmxvYWRfcGduKFwiMS4gYzQgeyBbJWV2YWwgMC4xMl0gWyVldmFsIDAuMTJdIH0gMS4uLiBlNSB7IFslZXZhbCAwLjEyXSBbJWV2YWwgMC4xMl0gfSAyLiBOYzMgeyBbJWV2YWwgMC4wNF0gWyVldmFsIDAuMDRdIH0gMi4uLiBOZjYgeyBbJWV2YWwgMC4xMl0gWyVldmFsIDAuMTJdIH0gMy4gTmYzIHsgWyVldmFsIDAuMV0gWyVldmFsIDAuMV0gfSAzLi4uIGU0IHsgWyVldmFsIDAuNDddIFslZXZhbCAwLjQ3XSB9IDQuIE5nNSB7IFslZXZhbCAwLjMyXSBbJWV2YWwgMC4zMl0gfSA0Li4uIGQ1PyEgeyBbJWV2YWwgMC45NF0gfSB7IEluYWNjdXJhY3kuIGM2IHdhcyBiZXN0LiB9IHsgSW5hY2N1cmFjeS4gYzYgd2FzIGJlc3QuIH0geyBbJWV2YWwgMC45NF0gfSAoNC4uLiBjNiA1LiBRYTQgUWU3IDYuIFFjMiBiNSA3LiBjeGI1IGQ1IDguIGUzIGg2IDkuIE5oMykgNS4gY3hkNSB7IFslZXZhbCAwLjk2XSBbJWV2YWwgMC45Nl0gfSA1Li4uIE54ZDUgeyBbJWV2YWwgMC45NF0gWyVldmFsIDAuOTRdIH0gNi4gUWE0KyB7IFslZXZhbCAxLjBdIFslZXZhbCAxLjBdIH0gNi4uLiBjNiB7IFslZXZhbCAwLjkyXSBbJWV2YWwgMC45Ml0gfSA3LiBOeGQ1IHsgWyVldmFsIDAuNjldIFslZXZhbCAwLjY5XSB9IDcuLi4gUXhkNSB7IFslZXZhbCAwLjc3XSBbJWV2YWwgMC43N10gfSA4LiBReGU0KyB7IFslZXZhbCAwLjg0XSBbJWV2YWwgMC43OF0gfSA4Li4uIFF4ZTQgeyBbJWV2YWwgMC44NV0gWyVldmFsIDAuOTddIH0gOS4gTnhlNCB7IFslZXZhbCAwLjldIFslZXZhbCAwLjkyXSB9IDkuLi4gZjUgeyBbJWV2YWwgMC45NF0gWyVldmFsIDAuOTRdIH0gMTAuIE5nNSB7IFslZXZhbCAwLjk2XSBbJWV2YWwgMC44N10gfSAxMC4uLiBCZTcgeyBbJWV2YWwgMC45OV0gWyVldmFsIDEuMDNdIH0gMTEuIE5mMyB7IFslZXZhbCAwLjczXSBbJWV2YWwgMC42NV0gfSAxMS4uLiBCZjYgeyBbJWV2YWwgMC45OF0gWyVldmFsIDEuMDFdIH0gMTIuIGQ0IHsgWyVldmFsIDAuOTJdIFslZXZhbCAxLjA1XSB9IDEyLi4uIEJlNj8hIHsgWyVldmFsIDEuNV0gfSB7IEluYWNjdXJhY3kuIGM1IHdhcyBiZXN0LiB9IHsgWyVldmFsIDEuNTFdIH0gKDEyLi4uIGM1KSAxMy4gQmc1IHsgWyVldmFsIDEuNDRdIFslZXZhbCAxLjQ4XSB9IDEzLi4uIFJmOCB7IFslZXZhbCAxLjcyXSBbJWV2YWwgMS43NF0gfSAxNC4gZTMgeyBbJWV2YWwgMS42Ml0gWyVldmFsIDEuNjRdIH0gMTQuLi4gTmQ3IHsgWyVldmFsIDEuNzFdIFslZXZhbCAxLjg0XSB9IDE1LiBCZDMgeyBbJWV2YWwgMS41MV0gWyVldmFsIDEuNTVdIH0gMTUuLi4gaDYgeyBbJWV2YWwgMS43XSBbJWV2YWwgMS43N10gfSAxNi4gQnhmNiB7IFslZXZhbCAxLjddIFslZXZhbCAxLjc3XSB9IDE2Li4uIFJ4ZjYgeyBbJWV2YWwgMS41N10gWyVldmFsIDEuNzJdIH0gMTcuIGIzIHsgWyVldmFsIDEuMzldIFslZXZhbCAxLjVdIH0gMTcuLi4gS2U3IHsgWyVldmFsIDEuNDJdIFslZXZhbCAxLjY5XSB9IDE4LiBPLU8tTyB7IFslZXZhbCAxLjI1XSBbJWV2YWwgMS40XSB9IDE4Li4uIGc1IHsgWyVldmFsIDEuNDNdIFslZXZhbCAxLjQyXSB9IDE5LiBOZDIgeyBbJWV2YWwgMS40MV0gWyVldmFsIDEuNDZdIH0gMTkuLi4gYjUgeyBbJWV2YWwgMS41XSBbJWV2YWwgMS42XSB9IDIwLiBSaGUxIHsgWyVldmFsIDEuNTJdIFslZXZhbCAxLjcyXSB9IDIwLi4uIEJkNSB7IFslZXZhbCAxLjU2XSBbJWV2YWwgMS42N10gfSAyMS4gZjMgeyBbJWV2YWwgMS41OF0gWyVldmFsIDEuNzJdIH0gMjEuLi4gS2Y4IHsgWyVldmFsIDIuMDNdIFslZXZhbCAyLjA4XSB9IDIyLiBlNCB7IFslZXZhbCAxLjk3XSBbJWV2YWwgMi4xMV0gfSAyMi4uLiBCZTYgeyBbJWV2YWwgMi4wMl0gWyVldmFsIDIuMDNdIH0gMjMuIEtiMiB7IFslZXZhbCAxLjg5XSBbJWV2YWwgMS45M10gfSAyMy4uLiBOYjY/ISB7IFslZXZhbCAyLjg0XSB9IHsgSW5hY2N1cmFjeS4gUmQ4IHdhcyBiZXN0LiB9IHsgSW5hY2N1cmFjeS4gUmQ4IHdhcyBiZXN0LiB9IHsgWyVldmFsIDIuOTVdIH0gKDIzLi4uIFJkOCAyNC4gTmYxICgyNC4gZXhmNSkpIDI0LiBSYzEgeyBbJWV2YWwgMi43M10gWyVldmFsIDIuOTJdIH0gMjQuLi4gQmQ3PyEgeyBbJWV2YWwgMy44OF0gfSB7IEluYWNjdXJhY3kuIFJjOCB3YXMgYmVzdC4gfSB7IEluYWNjdXJhY3kuIFJjOCB3YXMgYmVzdC4gfSB7IFslZXZhbCA0LjA5XSB9ICgyNC4uLiBSYzggMjUuIGV4ZjUgQnhmNSAyNi4gQnhmNSBSeGY1IDI3LiBSZTYgUmY0IDI4LiBSeGg2IFJoNCAyOS4gUmc2IE5kNSAzMC4gUnhnNSkgMjUuIGU1IHsgWyVldmFsIDMuODFdIFslZXZhbCA0LjE1XSB9IDI1Li4uIFJnNiB7IFslZXZhbCA0LjI3XSBbJWV2YWwgNC4xOV0gfSAyNi4gZzQgeyBbJWV2YWwgNC4xNV0gWyVldmFsIDQuMzRdIH0gMjYuLi4gUmU4PyEgeyBbJWV2YWwgNS4xNl0gfSB7IEluYWNjdXJhY3kuIFJnOCB3YXMgYmVzdC4gfSB7IFslZXZhbCA1LjYxXSB9ICgyNi4uLiBSZzggMjcuIGd4ZjUgTmQ1IDI4LiBCZTQgTmY0IDI5LiBiNCBhNSAzMC4gYnhhNSBSeGE1IDMxLiBOYjMgUmE4IDMyLiBmNikgMjcuIGd4ZjUgeyBbJWV2YWwgNS4xMV0gWyVldmFsIDUuNjddIH0gMjcuLi4gUmc4IHsgWyVldmFsIDUuMTRdIFslZXZhbCA1LjcxXSB9IDI4LiBlNiB7IFslZXZhbCA1LjEyXSBbJWV2YWwgNS43M10gfSAxLTBcclxuXCIpXHJcblxyXG5lY2hvIGNoZXNzXHJcbmVjaG8gY2hlc3MubW92ZXMoKVxyXG5cclxubW92ZXMgPSBjaGVzcy5oaXN0b3J5KClcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpLnRleHRDb250ZW50ID0gXCJcIlwiXHJcblx0TMOkc3QgUEdOIGZyYW1nw6VuZ3NyaWt0IVxyXG5cdEFudGFsIGRyYWc6ICN7bW92ZXMubGVuZ3RofVxyXG5cdERyYWc6ICN7bW92ZXMuam9pbignLCAnKX1cclxuXCJcIlwiXHJcbmNvbnNvbGUubG9nIFwiU2NoYWNraGlzdG9yaWs6XCIsIG1vdmVzXHJcbmNvbnNvbGUubG9nIFwiU2x1dHBvc2l0aW9uIChGRU4pOlwiLCBjaGVzcy5mZW4oKVxyXG5cclxuZWNobyA9IGNvbnNvbGUubG9nXHJcblxyXG4jIGltcG9ydCB7cGFyc2V9IGZyb20gXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BtbGllYmVsdC9wZ24tcGFyc2VyLytlc21cIjtcclxuXHJcbmh0bWwgPSAodGFnLCBmaXJzdCwgYXJncy4uLikgLT5cclxuXHRpZiB0eXBlb2YgZmlyc3QgaXMgJ29iamVjdCcgYW5kIG5vdCBBcnJheS5pc0FycmF5IGZpcnN0XHJcblx0XHRhdHRycyA9IE9iamVjdC5lbnRyaWVzKGZpcnN0KS5tYXAoKFtrLCB2XSkgLT4gXCIje2t9PScje3Z9J1wiKS5qb2luICcgJ1xyXG5cdFx0Y29udGVudCA9IGFyZ3Muam9pbiAnJ1xyXG5cdGVsc2VcclxuXHRcdGF0dHJzID0gJydcclxuXHRcdGNvbnRlbnQgPSBbZmlyc3QsIGFyZ3MuLi5dLmpvaW4gJydcclxuXHRvcGVuVGFnID0gaWYgYXR0cnMgdGhlbiBcIjwje3RhZ30gI3thdHRyc30+XCIgZWxzZSBcIjwje3RhZ30+XCJcclxuXHRcIiN7b3BlblRhZ30je2NvbnRlbnR9PC8je3RhZ30+XCJcclxuXHJcbnBnblRleHQgPSBcIlwiXHJcblxyXG50YWJsZSA9IChhcmdzLi4uKSAtPiBodG1sICd0YWJsZScsIGFyZ3MuLi5cclxudHIgICAgPSAoYXJncy4uLikgLT4gaHRtbCAndHInLCAgICBhcmdzLi4uXHJcbnRkICAgID0gKGFyZ3MuLi4pIC0+IGh0bWwgJ3RkJywgICAgYXJncy4uLlxyXG5zcGFuICA9IChhcmdzLi4uKSAtPiBodG1sIFwic3BhblwiLCAgYXJncy4uLlxyXG50YWJsZSA9IChhcmdzLi4uKSAtPiBodG1sIFwidGFibGVcIiwgYXJncy4uLlxyXG50aCAgICA9IChhcmdzLi4uKSAtPiBodG1sIFwidGhcIiwgICAgYXJncy4uLlxyXG5hICAgICA9IChhcmdzLi4uKSAtPiBodG1sIFwiYVwiLCAgICAgYXJncy4uLlxyXG5zdHJvbmc9IChhcmdzLi4uKSAtPiBodG1sIFwic3Ryb25nXCIsYXJncy4uLlxyXG5kaXYgICA9IChhcmdzLi4uKSAtPiBodG1sIFwiZGl2XCIsICAgYXJncy4uLlxyXG5cclxubWFrZVBseSA9IChwbHkpIC0+XHJcblx0aWYgcGx5IGlzIHVuZGVmaW5lZCB0aGVuIHJldHVybiAnJ1xyXG5cdGVjaG8gJ2luJyxwbHlcclxuXHRzID0ge31cclxuXHRzLnNhbiA9IHBseS5ub3RhdGlvbi5ub3RhdGlvblxyXG5cdGRpYWcgPSBwbHkuY29tbWVudERpYWdcclxuXHRzLmV2YWwgPSBkaWFnLmV2YWxcclxuXHRzLmNsayA9IGRpYWcuY2xrXHJcblx0cy5iZXR5ZyA9IDBcclxuXHRzLmJlc3QgPSAnJ1xyXG5cdGNvbW1lbnQgPSBkaWFnLmNvbW1lbnRcclxuXHQjIHMuY29tbWVudCA9IGNvbW1lbnRcclxuXHRpZiBjb21tZW50ID09IHVuZGVmaW5lZCB0aGVuIHJldHVybiBzXHJcblx0aWYgY29tbWVudC5pbmNsdWRlcyBcIkluYWNjdXJhY3lcIiB0aGVuIHMuYmV0eWcgPSAxXHJcblx0aWYgY29tbWVudC5pbmNsdWRlcyBcIk1pc3Rha2VcIiB0aGVuIHMuYmV0eWcgPSAyXHJcblx0aWYgY29tbWVudC5pbmNsdWRlcyBcIkJsdW5kZXJcIiB0aGVuIHMuYmV0eWcgPSAzXHJcblx0aWYgY29tbWVudC5pbmNsdWRlcyBcIkNoZWNrbWF0ZVwiIHRoZW4gcy5iZXR5ZyA9IDJcclxuXHRwID0gY29tbWVudC5pbmRleE9mICd3YXMgYmVzdCdcclxuXHRpZiBwID49IDBcclxuXHRcdGFyciA9IGNvbW1lbnQuc3BsaXQgJyAnXHJcblx0XHRzLmJlc3QgPSBhcnIuc2xpY2UoLTQsLTMpWzBdXHJcblx0c1xyXG5cclxuZm9ybWF0UEdOID0gLT5cclxuXHRwZ25UZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZ24taW5wdXRcIikudmFsdWVcclxuXHRlY2hvIHBnblRleHRcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwia25hcHBcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZvcm1hdFBHTik7XHJcbiMgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJrbmFwcFwiKS5vbmNsaWNrID0gZm9ybWF0UEdOKClcIlxyXG5cclxuZ2FtZXMgPSBwYXJzZSBwZ25UZXh0XHJcbmVjaG8gZ2FtZXNcclxuIyBnYW1lID0gZ2FtZXNbMF1cclxuIyBpZiBnYW1lLnRhZ3MuRkVOID09IHVuZGVmaW5lZCB0aGVuIGdhbWUudGFncy5GRU4gPSBcIlwiXHJcbiMgZWNobyB0eXBlb2YgZ2FtZS50YWdzLkRhdGVcclxuIyBpZiB0eXBlb2YgZ2FtZS50YWdzLkRhdGUgPT0gJ3N0cmluZydcclxuIyBlbHNlXHJcbiMgXHRnYW1lLnRhZ3MuRGF0ZSA9IGdhbWUudGFncy5EYXRlLnZhbHVlXHJcblxyXG4jIGVjaG8gZ2FtZVxyXG5cclxuIyBlY2hvIGdhbWUudGFncy5XaGl0ZVxyXG4jIGVjaG8gZ2FtZS50YWdzLldoaXRlRWxvXHJcbiMgZWNobyBnYW1lLnRhZ3MuQmxhY2tcclxuIyBlY2hvIGdhbWUudGFncy5CbGFja0Vsb1xyXG4jIGVjaG8gZ2FtZS50YWdzLlNpdGVcclxuIyBlY2hvIGdhbWUudGFncy5EYXRlXHJcbiMgZWNobyBnYW1lLnRhZ3MuRkVOXHJcbiMgZWNobyBnYW1lLnRhZ3MuUmVzdWx0XHJcbiMgIyBlY2hvIGdhbWUudGFncy5UaW1lQ29udHJvbFswXS52YWx1ZVxyXG5cclxuIyBwbGllcyA9IChtYWtlUGx5IHBseSBmb3IgcGx5IGluIGdhbWUubW92ZXMpXHJcbiMgZWNobyBwbGllc1xyXG5cclxuIyBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcIm91dHB1dFwiXHJcbiMgcm93cyA9IFwiXCJcclxuIyByb3dzICs9IHRoIHt9LCBcIm5yXCJcclxuIyByb3dzICs9IHRoIHt9LCBcImJlc3RcIlxyXG4jIHJvd3MgKz0gdGgge30sIFwiZXZhbFwiXHJcbiMgcm93cyArPSB0aCB7fSwgXCJ3aGl0ZVwiXHJcbiMgcm93cyArPSB0aCB7fSwgXCJibGFja1wiXHJcbiMgcm93cyArPSB0aCB7fSwgXCJldmFsXCJcclxuIyByb3dzICs9IHRoIHt9LCBcImJlc3RcIlxyXG4jIHJvd3MgPSB0ciB7fSwgcm93c1xyXG5cclxuIyBhcnJCZXR5ZyA9IFsnJywn4oCiJywn4oCi4oCiJywn4oCi4oCi4oCiJ11cclxuIyBmb3IgaSBpbiBbMC4ucGxpZXMubGVuZ3RoLzJdXHJcbiMgXHR3ID0gcGxpZXNbMippXVxyXG4jIFx0YiA9IHBsaWVzWzIqaSsxXVxyXG4jIFx0cyA9IHRkIHt9LCBpKzFcclxuIyBcdGlmIHcgIT0gdW5kZWZpbmVkXHJcbiMgXHRcdHMgKz0gdGQge30sIHcuYmVzdFxyXG4jIFx0XHRzICs9IHRkIHt9LCBhcnJCZXR5Z1t3LmJldHlnXVxyXG4jIFx0XHRzICs9IHRkIHt9LCB3LnNhblxyXG4jIFx0XHQjIHMgKz0gdGQge30sIHcuY2xrXHJcbiMgXHRpZiBiICE9IHVuZGVmaW5lZFxyXG4jIFx0XHRzICs9IHRkIHt9LCBiLnNhblxyXG4jIFx0XHRzICs9IHRkIHt9LCBhcnJCZXR5Z1tiLmJldHlnXVxyXG4jIFx0XHRzICs9IHRkIHt9LCBiLmJlc3RcclxuIyBcdFx0IyBzICs9IHRkIHt9LCBiLmNsa1xyXG4jIFx0aWYgdyBhbmQgYiB0aGVuIHJvd3MgKz0gdHIge30sIHNcclxuIyByb3dzID0gdGFibGUge30sIHJvd3NcclxuIyBoZWFkZXIgPSBcIlwiXHJcbiMgaGVhZGVyICs9ICdXaGl0ZTogJyArIGdhbWUudGFncy5SZXN1bHRbMF0gKyAnICcgKyBnYW1lLnRhZ3MuV2hpdGVFbG8gKyAnICcgKyBnYW1lLnRhZ3MuV2hpdGUgKyAnPGJyPidcclxuIyBoZWFkZXIgKz0gJ0JsYWNrOiAnICsgZ2FtZS50YWdzLlJlc3VsdFsyXSArICcgJyArIGdhbWUudGFncy5CbGFja0VsbyArICcgJyArIGdhbWUudGFncy5CbGFjayArICc8YnI+J1xyXG4jIGhlYWRlciArPSBcIiN7Z2FtZS50YWdzLkRhdGV9IDxhIGhyZWY9JyN7Z2FtZS50YWdzLlNpdGV9Jz4je2dhbWUudGFncy5TaXRlfTwvYT5cIiAjPGJyPlwiIFxyXG4jIGlmIGdhbWUudGFncy5GRU4gdGhlbiBoZWFkZXIgKz0gZ2FtZS50YWdzLkZFTiAgKyAnPGJyPidcclxuXHJcbiMgY29udGFpbmVyLmlubmVySFRNTCA9IGhlYWRlciArICc8YnI+JyArIHJvd3NcclxuIyAjIGNvbnRhaW5lci5pbm5lckhUTUwgPSByb3dzXHJcbiMgZWNobyByb3dzXHJcblxyXG5cclxuIl19
//# sourceURL=c:\github\2025\006-PrettyPGN-2\coffee\sketch.coffee