// Generated by CoffeeScript 2.7.0
var HIGH, LOW, echo, elos, expected_score, lines, mark, mouseMoved, mousePressed, paint, setup, xdraw;

echo = console.log;

elos = [2416, 2413, 2366, 2335, 2272, 2235, 2141, 2113, , 2109, 2108, 2093, 2076, 2065, 2048, 2046, 2039, 2035, 2031, 2022, 2001, 1985, 1977, 1954, 1944, 1936, 1923, 1907, 1897, 1896, 1893, 1889, 1886, 1885, 1880, 1878, 1871, 1852, 1848, 1846, 1835, 1833, 1828, 1827, 1818, 1803, 1800, 1796, 1794, 1793, 1787, 1783, 1778, 1768, 1763, 1761, 1748, 1733, 1733, 1728, 1726, 1721, 1709, 1695, 1691, 1688, 1680, 1671, 1650, 1641, 1622, 1579, 1575, 1524, 1480, 1417, 1406];

LOW = 1400;

HIGH = 2420;

setup = function() {
  createCanvas(window.innerWidth, window.innerHeight);
  rectMode(CENTER);
  textSize(30);
  textAlign(CENTER);
  return xdraw();
};

paint = function(elos, color, size) {
  var elo, i, len, results, x;
  fill(color);
  stroke(color);
  results = [];
  for (i = 0, len = elos.length; i < len; i++) {
    elo = elos[i];
    x = map(elo, LOW, HIGH, 0, width);
    results.push(circle(x, 100, size));
  }
  return results;
};

lines = function(elos, y) {
  var elo, i, len, results, x;
  stroke('black');
  strokeWeight(1);
  results = [];
  for (i = 0, len = elos.length; i < len; i++) {
    elo = elos[i];
    x = map(elo, LOW, HIGH, 0, width);
    results.push(line(x, 100, x, y));
  }
  return results;
};

expected_score = function(rating, own_rating) {
  return 1 / (1 + 10 ** ((rating - own_rating) / 400));
};

mark = function(elo, y) {
  var t, x;
  t = round(100 * (1 - expected_score(1893, elo)));
  x = map(elo, LOW, HIGH, 0, width);
  fill('black');
  noStroke();
  return text(t + '%', x, y);
};

xdraw = function() {
  background('white');
  stroke('black');
  line(0, 100, width, 100);
  paint(elos, 'black', 4);
  paint([1893], 'red', 6);
  lines([2335, 2108, 2046, 1800, 1778, 1733, 1641, 1622], 120);
  lines([1907, 1897, 1896, 1889, 1886, 1885, 1880, 1878], 80);
  textSize(20);
  mark(1622, 140);
  mark(1800, 140);
  mark(1878, 75);
  mark(1907, 75);
  mark(2046, 140);
  mark(2335, 140);
  fill('black');
  return stroke('black');
};

mouseMoved = function() {
  var elo;
  xdraw();
  noStroke();
  text('FairPair vs Swiss', width / 2, 35);
  elo = map(mouseX, 0, width, LOW, HIGH);
  text(int(elo), width / 2, 140);
  text('Sannolik vinst ' + round(100 * (1 - expected_score(1893, elo))) + '%', width / 2, 140 + 40);
  return text('TyresÃ¶ Open 2024 (n=78)', width / 2, 140 + 80);
};

mousePressed = function() {
  return window.location.href = "https://member.schack.se/ShowTournamentServlet?id=13664&listingtype=2";
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwiLCJzb3VyY2VzIjpbImNvZmZlZVxcc2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsY0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLFlBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBOztBQUFBLElBQUEsR0FBTyxPQUFPLENBQUM7O0FBRWYsSUFBQSxHQUFPLENBQUMsSUFBRCxFQUFNLElBQU4sRUFBVyxJQUFYLEVBQWdCLElBQWhCLEVBQXFCLElBQXJCLEVBQTBCLElBQTFCLEVBQStCLElBQS9CLEVBQW9DLElBQUssRUFBekMsRUFBMEMsSUFBMUMsRUFBK0MsSUFBL0MsRUFBb0QsSUFBcEQsRUFBeUQsSUFBekQsRUFBOEQsSUFBOUQsRUFBbUUsSUFBbkUsRUFBd0UsSUFBeEUsRUFBNkUsSUFBN0UsRUFBa0YsSUFBbEYsRUFBdUYsSUFBdkYsRUFBNEYsSUFBNUYsRUFBaUcsSUFBakcsRUFBc0csSUFBdEcsRUFBMkcsSUFBM0csRUFBZ0gsSUFBaEgsRUFBcUgsSUFBckgsRUFBMEgsSUFBMUgsRUFBK0gsSUFBL0gsRUFBb0ksSUFBcEksRUFBeUksSUFBekksRUFBOEksSUFBOUksRUFBbUosSUFBbkosRUFBd0osSUFBeEosRUFBNkosSUFBN0osRUFBa0ssSUFBbEssRUFBdUssSUFBdkssRUFBNEssSUFBNUssRUFBaUwsSUFBakwsRUFBc0wsSUFBdEwsRUFBMkwsSUFBM0wsRUFBZ00sSUFBaE0sRUFBcU0sSUFBck0sRUFBME0sSUFBMU0sRUFBK00sSUFBL00sRUFBb04sSUFBcE4sRUFBeU4sSUFBek4sRUFBOE4sSUFBOU4sRUFBbU8sSUFBbk8sRUFBd08sSUFBeE8sRUFBNk8sSUFBN08sRUFBa1AsSUFBbFAsRUFBdVAsSUFBdlAsRUFBNFAsSUFBNVAsRUFBaVEsSUFBalEsRUFB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QixLQUFBLEdBQU0sQ0FBckMsRUFBdUMsR0FBQSxHQUFJLEVBQTNDO0FBWFk7O0FBYWIsWUFBQSxHQUFlLFFBQUEsQ0FBQSxDQUFBO1NBQ2QsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFoQixHQUF1QjtBQURUIiwic291cmNlc0NvbnRlbnQiOlsiZWNobyA9IGNvbnNvbGUubG9nXHJcblxyXG5lbG9zID0gWzI0MTYsMjQxMywyMzY2LDIzMzUsMjI3MiwyMjM1LDIxNDEsMjExMywsMjEwOSwyMTA4LDIwOTMsMjA3NiwyMDY1LDIwNDgsMjA0NiwyMDM5LDIwMzUsMjAzMSwyMDIyLDIwMDEsMTk4NSwxOTc3LDE5NTQsMTk0NCwxOTM2LDE5MjMsMTkwNywxODk3LDE4OTYsMTg5MywxODg5LDE4ODYsMTg4NSwxODgwLDE4NzgsMTg3MSwxODUyLDE4NDgsMTg0NiwxODM1LDE4MzMsMTgyOCwxODI3LDE4MTgsMTgwMywxODAwLDE3OTYsMTc5NCwxNzkzLDE3ODcsMTc4MywxNzc4LDE3NjgsMTc2MywxNzYxLDE3NDgsMTczMywxNzMzLDE3MjgsMTcyNiwxNzIxLDE3MDksMTY5NSwxNjkxLDE2ODgsMTY4MCwxNjcxLDE2NTAsMTY0MSwxNjIyLDE1NzksMTU3NSwxNTI0LDE0ODAsMTQxNywxNDA2XVxyXG5cclxuTE9XID0gMTQwMFxyXG5ISUdIID0gMjQyMFxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0XHJcblx0cmVjdE1vZGUgQ0VOVEVSXHJcblx0dGV4dFNpemUgMzBcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSXHJcblx0eGRyYXcoKVxyXG5cclxucGFpbnQgPSAoZWxvcyxjb2xvcixzaXplKSAtPlxyXG5cdGZpbGwgY29sb3JcclxuXHRzdHJva2UgY29sb3JcclxuXHRmb3IgZWxvIGluIGVsb3NcclxuXHRcdHggPSBtYXAgZWxvLCBMT1csIEhJR0gsIDAsIHdpZHRoXHJcblx0XHRjaXJjbGUgeCwxMDAsc2l6ZVxyXG5cclxubGluZXMgPSAoZWxvcyx5KSAtPlxyXG5cdHN0cm9rZSAnYmxhY2snXHJcblx0c3Ryb2tlV2VpZ2h0IDFcclxuXHRmb3IgZWxvIGluIGVsb3NcclxuXHRcdHggPSBtYXAgZWxvLCBMT1csSElHSCwgMCwgd2lkdGhcclxuXHRcdGxpbmUgeCwxMDAseCx5XHJcblxyXG5leHBlY3RlZF9zY29yZSA9IChyYXRpbmcsIG93bl9yYXRpbmcpIC0+IDEgLyAoMSArIDEwKiooKHJhdGluZyAtIG93bl9yYXRpbmcpIC8gNDAwKSlcclxuXHJcbm1hcmsgPSAoZWxvLCB5KSAtPlxyXG5cdHQgPSByb3VuZCAxMDAgKiAoMSAtIGV4cGVjdGVkX3Njb3JlIDE4OTMsIGVsbylcclxuXHR4ID0gbWFwIGVsbywgTE9XLEhJR0gsIDAsIHdpZHRoXHJcblx0ZmlsbCAnYmxhY2snXHJcblx0bm9TdHJva2UoKVxyXG5cdHRleHQgdCsnJScseCx5XHJcblxyXG54ZHJhdyA9IC0+XHJcblx0YmFja2dyb3VuZCAnd2hpdGUnXHJcblx0c3Ryb2tlICdibGFjaydcclxuXHJcblx0bGluZSAwLDEwMCx3aWR0aCwxMDBcclxuXHJcblx0cGFpbnQgZWxvcywgJ2JsYWNrJyw0XHJcblx0cGFpbnQgWzE4OTNdLCdyZWQnLDZcclxuXHJcblx0bGluZXMgWzIzMzUsMjEwOCwyMDQ2LDE4MDAsMTc3OCwxNzMzLDE2NDEsMTYyMl0sMTIwXHJcblx0bGluZXMgWzE5MDcsMTg5NywxODk2LDE4ODksMTg4NiwxODg1LDE4ODAsMTg3OF0sODBcclxuXHJcblx0dGV4dFNpemUgMjBcclxuXHRtYXJrIDE2MjIsMTQwXHJcblx0bWFyayAxODAwLDE0MFxyXG5cdG1hcmsgMTg3OCw3NVxyXG5cdG1hcmsgMTkwNyw3NVxyXG5cdG1hcmsgMjA0NiwxNDBcclxuXHRtYXJrIDIzMzUsMTQwXHJcblx0XHRcclxuXHRmaWxsICdibGFjaydcclxuXHRzdHJva2UgJ2JsYWNrJ1xyXG5cdFxyXG5tb3VzZU1vdmVkID0gLT5cclxuXHR4ZHJhdygpXHJcblxyXG5cdG5vU3Ryb2tlKClcclxuXHJcblx0dGV4dCAnRmFpclBhaXIgdnMgU3dpc3MnLHdpZHRoLzIsMzVcclxuXHJcblx0ZWxvID0gbWFwIG1vdXNlWCwgMCwgd2lkdGgsIExPVyxISUdIXHJcblx0dGV4dCBpbnQoZWxvKSx3aWR0aC8yLDE0MFxyXG5cclxuXHR0ZXh0ICdTYW5ub2xpayB2aW5zdCAnICsgcm91bmQoMTAwKigxIC0gZXhwZWN0ZWRfc2NvcmUoMTg5MyxlbG8pKSkrJyUnLCAgd2lkdGgvMiwgMTQwKzQwXHJcblx0dGV4dCAnVHlyZXPDtiBPcGVuIDIwMjQgKG49NzgpJyx3aWR0aC8yLDE0MCs4MFxyXG5cclxubW91c2VQcmVzc2VkID0gLT5cclxuXHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly9tZW1iZXIuc2NoYWNrLnNlL1Nob3dUb3VybmFtZW50U2VydmxldD9pZD0xMzY2NCZsaXN0aW5ndHlwZT0yXCIiXX0=
//# sourceURL=c:\github\2025\021-FairPair-vs-Swiss\coffee\sketch.coffee