// Generated by CoffeeScript 2.7.0
var DOMAIN, MAX, RESULTS, echo, expected_score, extrapolate, main, makeBerger, parseQuery, performance, performance_rating, prettify, safeGet, savePairing, showBerger, showHelp, showTables, summa,
  indexOf = [].indexOf;

echo = console.log;

//DOMAIN = "http://127.0.0.1:5500"
DOMAIN = "https://christernilsson.github.io/2025/013-Berger";

MAX = 2;

RESULTS = '';

summa = function(arr) {
  var item, k, len, res;
  res = 0;
  for (k = 0, len = arr.length; k < len; k++) {
    item = arr[k];
    res += item;
  }
  return res;
};

expected_score = function(ratings, own_rating) {
  var rating;
  return summa((function() {
    var k, len, results1;
    results1 = [];
    for (k = 0, len = ratings.length; k < len; k++) {
      rating = ratings[k];
      results1.push(1 / (1 + 10 ** ((rating - own_rating) / 400)));
    }
    return results1;
  })());
};

performance_rating = function(pp, ratings) {
  var hi, lo, rating;
  lo = 0;
  hi = 4000;
  while (Math.abs(hi - lo) > 0.001) {
    rating = (lo + hi) / 2;
    if (pp > expected_score(ratings, rating)) {
      lo = rating;
    } else {
      hi = rating;
    }
  }
  return rating;
};


// Use two extreme values when calculating 0% or 100%
extrapolate = function(a0, b0, elos) {
  var a, b;
  a = performance_rating(a0, elos);
  b = performance_rating(b0, elos);
  return b + b - a;
};

performance = function(pp, elos) {
  var n;
  n = elos.length;
  if (n === 1) {
    if (pp === 0) {
      return extrapolate(0.50, 0.25, elos);
    }
    if (pp === n) {
      return extrapolate(0.50, 0.75, elos);
    }
  } else {
    if (pp === 0) {
      return extrapolate(1, 0.5, elos);
    }
    if (pp === n) {
      return extrapolate(n - 1, n - 0.5, elos);
    }
  }
  return performance_rating(pp, elos);
};

safeGet = function(params, key, standard = "") {
  if (params.get(key)) {
    return params.get(key);
  }
  if (params.get(' ' + key)) {
    return params.get(' ' + key);
  }
  return standard;
};

parseQuery = function() {
  var elo, i, k, l, name, p, params, players, ref, results, title;
  params = new URLSearchParams(window.location.search);
  title = safeGet(params, "title");
  MAX = safeGet(params, "MAX", "2");
  RESULTS = '012345678'.slice(0, MAX + 1);
  players = [];
  for (i = k = 1; k <= 20; i = ++k) {
    p = safeGet(params, `p${i}`, "");
    if (p === "") {
      break;
    }
    elo = parseInt(p.slice(0, 4));
    name = p.slice(4).trim();
    players.push({
      elo,
      name,
      index: i - 1
    });
  }
  echo(players);
  results = [];
  for (i = l = 1, ref = players.length - 1; (1 <= ref ? l <= ref : l >= ref); i = 1 <= ref ? ++l : --l) {
    results.push(safeGet(params, `r${i}`, "x" * players.length / 2));
  }
  return {players, results, title, MAX};
};

savePairing = function(r, A, half, n) {
  var i, k, lst, ref;
  lst = r % 2 === 1 ? [[A[n - 1], A[0]]] : [[A[0], A[n - 1]]];
  for (i = k = 1, ref = half; (1 <= ref ? k < ref : k > ref); i = 1 <= ref ? ++k : --k) {
    lst.push([A[i], A[n - 1 - i]]);
  }
  return lst;
};

makeBerger = function(n) {
  var A, half, i, k, ref, rounds;
  if (n % 2 === 1) {
    n += 1;
  }
  half = Math.floor(n / 2);
  A = (function() {
    var results1 = [];
    for (var k = 0; 0 <= n ? k < n : k > n; 0 <= n ? k++ : k--){ results1.push(k); }
    return results1;
  }).apply(this);
  rounds = [];
  for (i = k = 0, ref = n - 1; (0 <= ref ? k < ref : k > ref); i = 0 <= ref ? ++k : --k) {
    rounds.push(savePairing(i, A, half, n));
    A.pop();
    A = A.slice(half).concat(A.slice(0, half));
    A.push(n - 1);
  }
  return rounds;
};

showHelp = function() {
  var help, link, url;
  url = [];
  url.push(`${DOMAIN}/?title=Joukos Sommar 2025`);
  url.push("&MAX=2");
  url.push("&p1=1698 Onni Aikio");
  url.push("&p2=1558 Helge Bergström");
  url.push("&p3=1549 Jonas Hök");
  url.push("&p4=1679 Lars Johansson");
  url.push("&p5=0000 Per Eriksson");
  url.push("&p6=1653 Christer Nilsson");
  url.push("&p7=1673 Per Hamnström");
  url.push("&p8=1504 Thomas Paulin");
  url.push("&p9=1706 Abbas Razavi");
  url.push("&p10=1579 Jouko Liistamo");
  url.push("&r1=202x2");
  url.push("&r2=01020");
  url.push("&r3=20022");
  url.push("&r4=20002");
  url.push("&r5=02222");
  url.push("&r7=xx2xx");
  help = document.createElement('div');
  help.className = 'help';
  help.innerHTML = `<p>Exempel:</p><pre>${url.join("\n")}</pre>`;
  document.getElementById('berger').appendChild(help);
  link = document.createElement('a');
  link.href = url.join('');
  link.text = "Exempel";
  return document.getElementById('berger').appendChild(link);
};

showBerger = function(title, players, rounds, results, points, MAX) {
  var a, b, cell, h2, header, html, i, k, l, len, m, oppElos, opponent, p, r, ref, ref1, ref2, result, row, tableIndex, tbl, w;
  h2 = document.createElement('h2');
  h2.textContent = title;
  document.getElementById('berger').appendChild(h2);
  tbl = document.createElement('table');
  header = tbl.insertRow();
  header.innerHTML = '<th>#</th><th>Namn</th><th>Elo</th>';
  for (i = k = 0, ref = rounds.length; (0 <= ref ? k < ref : k > ref); i = 0 <= ref ? ++k : --k) {
    cell = document.createElement('th');
    cell.textContent = `${i + 1}`;
    (function(i) {
      return cell.addEventListener('click', function() {
        echo(`Du klickade på rond ${i + 1}`);
        return showTables(rounds[i] || [], players, i, results, MAX);
      });
    })(i);
    header.appendChild(cell);
  }
  cell = document.createElement('th');
  cell.textContent = "Poäng";
  header.appendChild(cell);
  cell = document.createElement('th');
  cell.textContent = "PR";
  header.appendChild(cell);
  for (i = l = 0, len = players.length; l < len; i = ++l) {
    p = players[i];
    row = tbl.insertRow();
    row.insertCell().textContent = i + 1;
    cell = row.insertCell();
    cell.textContent = p.name;
    cell.style.textAlign = 'left';
    oppElos = [];
    row.insertCell().textContent = p.elo;
    for (r = m = 0, ref1 = rounds.length; (0 <= ref1 ? m < ref1 : m > ref1); r = 0 <= ref1 ? ++m : --m) {
      cell = row.insertCell();
      tableIndex = rounds[r].findIndex(function([w, b]) {
        return w === i || b === i;
      });
      if (tableIndex === -1) {
        continue;
      }
      result = ((ref2 = results[r]) != null ? ref2[tableIndex] : void 0) || "";
      result = result.replace("x", "");
      [w, b] = rounds[r][tableIndex];
      opponent = w === i ? b : w;
      if (indexOf.call(RESULTS, result) >= 0 && players[opponent].elo !== 0) {
        oppElos.push(players[opponent].elo);
      }
      if (i === b && result !== "") {
        result = MAX - parseInt(result);
      }
      if (i === w) {
        a = "right:-7px";
      } else {
        a = "left:-7px";
      }
      html = "";
      html += `<div style='position:absolute; top:-17px; ${a}; font-size:0.7em;'>${opponent + 1}</div>`;
      html += `<div style='position:absolute; top:-4px;        font-size:1.0em;'>${result}</div>`;
      cell.innerHTML = "<div style='position:relative;'>" + html + "</div>";
    }
    cell = row.insertCell();
    cell.textContent = points[i];
    cell.style.textAlign = 'right';
    row.insertCell().textContent = performance(points[i] / MAX, oppElos).toFixed(0);
  }
  return document.getElementById('berger').appendChild(tbl);
};

prettify = function(ch, MAX) {
  if (indexOf.call(RESULTS, ch) >= 0) {
    return `${ch} - ${MAX - ch}`;
  }
  return "-";
};

showTables = function(rounds, players, selectedRound, results, MAX) {
  var b, header, i, k, ref, ref1, ref2, svart, table, td, title, tr, vit, w;
  if (rounds.length === 0) {
    return;
  }
  title = document.createElement('h2');
  title.textContent = `Bordslista för rond ${selectedRound + 1}`;
  document.getElementById('tables').innerHTML = '';
  document.getElementById('tables').appendChild(title);
  table = document.createElement('table');
  header = table.insertRow();
  header.innerHTML = `<th>Bord</th><th>Vit</th><th>Svart</th><th>${RESULTS}</th>`;
  for (i = k = 0, ref = rounds.length; (0 <= ref ? k < ref : k > ref); i = 0 <= ref ? ++k : --k) {
    tr = document.createElement('tr');
    [w, b] = rounds[i];
    vit = ((ref1 = players[w]) != null ? ref1.name : void 0) || "";
    svart = ((ref2 = players[b]) != null ? ref2.name : void 0) || "";
    td = document.createElement('td');
    td.textContent = `${i + 1}`;
    tr.appendChild(td);
    td = document.createElement('td');
    td.textContent = vit;
    td.style.textAlign = 'left';
    tr.appendChild(td);
    td = document.createElement('td');
    td.textContent = svart;
    td.style.textAlign = 'left';
    tr.appendChild(td);
    td = document.createElement('td');
    td.textContent = prettify(results[selectedRound][i], MAX);
    td.style.align = 'center';
    tr.appendChild(td);
    table.appendChild(tr);
  }
  return document.getElementById('tables').appendChild(table);
};

main = function() {
  var b, i, j, k, players, points, ref, ref1, res, results, round, rounds, title, w;
  ({players, results, title, MAX} = parseQuery());
  document.title = title;
  if (players.length < 4) {
    showHelp();
    return;
  }
  rounds = makeBerger(players.length);
  echo(rounds);
  points = Array(players.length).fill(0);
  for (i = k = 0, ref = results.length; (0 <= ref ? k < ref : k > ref); i = 0 <= ref ? ++k : --k) {
    res = results[i];
    round = rounds[i];
    for (j in round) {
      [w, b] = round[j];
      if (ref1 = res[j], indexOf.call(RESULTS, ref1) >= 0) {
        points[w] += parseInt(res[j]);
        points[b] += MAX - parseInt(res[j]);
      }
    }
  }
  showBerger(title, players, rounds, results, points, MAX);
  return showTables(rounds[0] || [], players, 0, results, MAX);
};

main();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVyZ2VyLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJiZXJnZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxjQUFBLEVBQUEsV0FBQSxFQUFBLElBQUEsRUFBQSxVQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxrQkFBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsV0FBQSxFQUFBLFVBQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUE7RUFBQTs7QUFBQSxJQUFBLEdBQU8sT0FBTyxDQUFDLElBQWY7OztBQUdBLE1BQUEsR0FBUzs7QUFFVCxHQUFBLEdBQU07O0FBQ04sT0FBQSxHQUFVOztBQUVWLEtBQUEsR0FBUSxRQUFBLENBQUMsR0FBRCxDQUFBO0FBQ1IsTUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQTtFQUFDLEdBQUEsR0FBTTtFQUNOLEtBQUEscUNBQUE7O0lBQ0MsR0FBQSxJQUFPO0VBRFI7U0FFQTtBQUpPOztBQU1SLGNBQUEsR0FBaUIsUUFBQSxDQUFDLE9BQUQsRUFBVSxVQUFWLENBQUE7QUFBd0IsTUFBQTtTQUFDLEtBQUE7O0FBQU87SUFBQSxLQUFBLHlDQUFBOztvQkFBQSxDQUFBLEdBQUksQ0FBQyxDQUFBLEdBQUksRUFBQSxJQUFJLENBQUMsQ0FBQyxNQUFBLEdBQVMsVUFBVixDQUFBLEdBQXdCLEdBQXpCLENBQVQ7SUFBSixDQUFBOztNQUFQO0FBQXpCOztBQUVqQixrQkFBQSxHQUFxQixRQUFBLENBQUMsRUFBRCxFQUFLLE9BQUwsQ0FBQTtBQUNyQixNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUE7RUFBQyxFQUFBLEdBQUs7RUFDTCxFQUFBLEdBQUs7QUFDTCxTQUFNLElBQUksQ0FBQyxHQUFMLENBQVMsRUFBQSxHQUFLLEVBQWQsQ0FBQSxHQUFvQixLQUExQjtJQUNDLE1BQUEsR0FBUyxD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LHlGQUFUO0lBQ0MsR0FBQSxHQUFNLE9BQU8sQ0FBQyxDQUFEO0lBQ2IsS0FBQSxHQUFRLE1BQU0sQ0FBQyxDQUFEO0lBQ2QsS0FBQSxVQUFBO01BQU8sQ0FBQyxDQUFELEVBQUksQ0FBSjtNQUNOLFdBQUcsR0FBRyxDQUFDLENBQUQsZ0JBQU8sU0FBVixVQUFIO1FBQ0MsTUFBTSxDQUFDLENBQUQsQ0FBTixJQUFhLFFBQUEsQ0FBUyxHQUFHLENBQUMsQ0FBRCxDQUFaO1FBQ2IsTUFBTSxDQUFDLENBQUQsQ0FBTixJQUFhLEdBQUEsR0FBTSxRQUFBLENBQVMsR0FBRyxDQUFDLENBQUQsQ0FBWixFQUZwQjs7SUFERDtFQUhEO0VBUUEsVUFBQSxDQUFXLEtBQVgsRUFBa0IsT0FBbEIsRUFBMkIsTUFBM0IsRUFBbUMsT0FBbkMsRUFBNEMsTUFBNUMsRUFBb0QsR0FBcEQ7U0FDQSxVQUFBLENBQVcsTUFBTSxDQUFDLENBQUQsQ0FBTixJQUFhLEVBQXhCLEVBQTRCLE9BQTVCLEVBQXFDLENBQXJDLEVBQXdDLE9BQXhDLEVBQWlELEdBQWpEO0FBcEJNOztBQXNCUCxJQUFBLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJlY2hvID0gY29uc29sZS5sb2dcclxuXHJcbiNET01BSU4gPSBcImh0dHA6Ly8xMjcuMC4wLjE6NTUwMFwiXHJcbkRPTUFJTiA9IFwiaHR0cHM6Ly9jaHJpc3Rlcm5pbHNzb24uZ2l0aHViLmlvLzIwMjUvMDEzLUJlcmdlclwiXHJcblxyXG5NQVggPSAyXHJcblJFU1VMVFMgPSAnJ1xyXG5cclxuc3VtbWEgPSAoYXJyKSAtPlxyXG5cdHJlcyA9IDBcclxuXHRmb3IgaXRlbSBpbiBhcnJcclxuXHRcdHJlcyArPSBpdGVtXHJcblx0cmVzXHJcblxyXG5leHBlY3RlZF9zY29yZSA9IChyYXRpbmdzLCBvd25fcmF0aW5nKSAtPiBzdW1tYSAoMSAvICgxICsgMTAqKigocmF0aW5nIC0gb3duX3JhdGluZykgLyA0MDApKSBmb3IgcmF0aW5nIGluIHJhdGluZ3MpXHJcblxyXG5wZXJmb3JtYW5jZV9yYXRpbmcgPSAocHAsIHJhdGluZ3MpIC0+XHJcblx0bG8gPSAwXHJcblx0aGkgPSA0MDAwXHJcblx0d2hpbGUgTWF0aC5hYnMoaGkgLSBsbykgPiAwLjAwMVxyXG5cdFx0cmF0aW5nID0gKGxvICsgaGkpIC8gMlxyXG5cdFx0aWYgcHAgPiBleHBlY3RlZF9zY29yZSByYXRpbmdzLCByYXRpbmdcclxuXHRcdFx0bG8gPSByYXRpbmdcclxuXHRcdGVsc2VcclxuXHRcdFx0aGkgPSByYXRpbmdcclxuXHRyYXRpbmdcclxuIFxyXG4jIFVzZSB0d28gZXh0cmVtZSB2YWx1ZXMgd2hlbiBjYWxjdWxhdGluZyAwJSBvciAxMDAlXHJcbmV4dHJhcG9sYXRlID0gKGEwLCBiMCwgZWxvcykgLT5cclxuXHRhID0gcGVyZm9ybWFuY2VfcmF0aW5nIGEwLGVsb3NcclxuXHRiID0gcGVyZm9ybWFuY2VfcmF0aW5nIGIwLGVsb3NcclxuXHRiICsgYiAtIGFcclxuXHJcbnBlcmZvcm1hbmNlID0gKHBwLGVsb3MpIC0+IFxyXG5cdG4gPSBlbG9zLmxlbmd0aFxyXG5cdGlmIG4gPT0gMVxyXG5cdFx0aWYgcHAgPT0gMCB0aGVuIHJldHVybiBleHRyYXBvbGF0ZSAwLjUwLDAuMjUsZWxvc1xyXG5cdFx0aWYgcHAgPT0gbiB0aGVuIHJldHVybiBleHRyYXBvbGF0ZSAwLjUwLDAuNzUsZWxvc1xyXG5cdGVsc2VcclxuXHRcdGlmIHBwID09IDAgdGhlbiByZXR1cm4gZXh0cmFwb2xhdGUgICAxLCAgMC41LGVsb3NcclxuXHRcdGlmIHBwID09IG4gdGhlbiByZXR1cm4gZXh0cmFwb2xhdGUgbi0xLG4tMC41LGVsb3NcclxuXHRwZXJmb3JtYW5jZV9yYXRpbmcgcHAsZWxvc1xyXG5cclxuc2FmZUdldCA9IChwYXJhbXMsa2V5LHN0YW5kYXJkPVwiXCIpIC0+IFxyXG5cdGlmIHBhcmFtcy5nZXQga2V5IHRoZW4gcmV0dXJuIHBhcmFtcy5nZXQga2V5IFxyXG5cdGlmIHBhcmFtcy5nZXQgJyAnICsga2V5IHRoZW4gcmV0dXJuIHBhcmFtcy5nZXQgJyAnICsga2V5XHJcblx0c3RhbmRhcmRcclxuXHJcbnBhcnNlUXVlcnkgPSAtPlxyXG5cdHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMgd2luZG93LmxvY2F0aW9uLnNlYXJjaFxyXG5cclxuXHR0aXRsZSA9IHNhZmVHZXQgcGFyYW1zLCBcInRpdGxlXCJcclxuXHRNQVggPSBzYWZlR2V0IHBhcmFtcywgXCJNQVhcIiwgXCIyXCJcclxuXHRSRVNVTFRTID0gJzAxMjM0NTY3OCcuc2xpY2UgMCwgTUFYICsgMVxyXG5cdFxyXG5cdHBsYXllcnMgPSBbXVxyXG5cdGZvciBpIGluIFsxLi4yMF1cclxuXHRcdHAgPSBzYWZlR2V0IHBhcmFtcywgXCJwI3tpfVwiLCBcIlwiXHJcblx0XHRpZiBwID09IFwiXCIgdGhlbiBicmVha1xyXG5cdFx0ZWxvID0gcGFyc2VJbnQgcC5zbGljZSAwLDRcclxuXHRcdG5hbWUgPSBwLnNsaWNlKDQpLnRyaW0oKVxyXG5cdFx0cGxheWVycy5wdXNoIHtlbG8sIG5hbWUsIGluZGV4OiBpIC0gMX1cclxuXHRlY2hvIHBsYXllcnNcclxuXHJcblx0cmVzdWx0cyA9IFtdXHJcblx0Zm9yIGkgaW4gWzEuLnBsYXllcnMubGVuZ3RoIC0gMV1cclxuXHRcdHJlc3VsdHMucHVzaCBzYWZlR2V0IHBhcmFtcywgXCJyI3tpfVwiLCBcInhcIiAqIHBsYXllcnMubGVuZ3RoIC8gMlxyXG5cclxuXHR7cGxheWVycywgcmVzdWx0cywgdGl0bGUsIE1BWH1cclxuXHJcbnNhdmVQYWlyaW5nID0gKHIsIEEsIGhhbGYsIG4pIC0+XHJcblx0bHN0ID0gaWYgciAlIDIgPT0gMSB0aGVuIFtbQVtuIC0gMV0sIEFbMF1dXSBlbHNlIFtbQVswXSwgQVtuIC0gMV1dXVxyXG5cdGZvciBpIGluIFsxLi4uaGFsZl1cclxuXHRcdGxzdC5wdXNoIFtBW2ldLCBBW24gLSAxIC0gaV1dXHJcblx0bHN0XHJcblxyXG5tYWtlQmVyZ2VyID0gKG4pIC0+XHJcblx0aWYgbiAlIDIgPT0gMSB0aGVuIG4gKz0gMVxyXG5cdGhhbGYgPSBuIC8vIDIgXHJcblx0QSA9IFswLi4ubl1cclxuXHRyb3VuZHMgPSBbXVxyXG5cdGZvciBpIGluIFswLi4ubi0xXVxyXG5cdFx0cm91bmRzLnB1c2goc2F2ZVBhaXJpbmcoaSwgQSwgaGFsZiwgbikpXHJcblx0XHRBLnBvcCgpXHJcblx0XHRBID0gQS5zbGljZShoYWxmKS5jb25jYXQgQS5zbGljZSgwLGhhbGYpXHJcblx0XHRBLnB1c2gobi0xKVxyXG5cdHJvdW5kc1xyXG5cclxuc2hvd0hlbHAgPSAtPlxyXG5cdHVybCA9IFtdXHJcblx0dXJsLnB1c2ggXCIje0RPTUFJTn0vP3RpdGxlPUpvdWtvcyBTb21tYXIgMjAyNVwiXHJcblx0dXJsLnB1c2ggXCImTUFYPTJcIlxyXG5cdHVybC5wdXNoIFwiJnAxPTE2OTggT25uaSBBaWtpb1wiXHJcblx0dXJsLnB1c2ggXCImcDI9MTU1OCBIZWxnZSBCZXJnc3Ryw7ZtXCJcclxuXHR1cmwucHVzaCBcIiZwMz0xNTQ5IEpvbmFzIEjDtmtcIlxyXG5cdHVybC5wdXNoIFwiJnA0PTE2NzkgTGFycyBKb2hhbnNzb25cIlxyXG5cdHVybC5wdXNoIFwiJnA1PTAwMDAgUGVyIEVyaWtzc29uXCJcclxuXHR1cmwucHVzaCBcIiZwNj0xNjUzIENocmlzdGVyIE5pbHNzb25cIlxyXG5cdHVybC5wdXNoIFwiJnA3PTE2NzMgUGVyIEhhbW5zdHLDtm1cIlxyXG5cdHVybC5wdXNoIFwiJnA4PTE1MDQgVGhvbWFzIFBhdWxpblwiXHJcblx0dXJsLnB1c2ggXCImcDk9MTcwNiBBYmJhcyBSYXphdmlcIlxyXG5cdHVybC5wdXNoIFwiJnAxMD0xNTc5IEpvdWtvIExpaXN0YW1vXCJcclxuXHR1cmwucHVzaCBcIiZyMT0yMDJ4MlwiXHJcblx0dXJsLnB1c2ggXCImcjI9MDEwMjBcIlxyXG5cdHVybC5wdXNoIFwiJnIzPTIwMDIyXCJcclxuXHR1cmwucHVzaCBcIiZyND0yMDAwMlwiXHJcblx0dXJsLnB1c2ggXCImcjU9MDIyMjJcIlxyXG5cdHVybC5wdXNoIFwiJnI3PXh4Mnh4XCJcclxuXHJcblx0aGVscCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ2RpdidcclxuXHRoZWxwLmNsYXNzTmFtZSA9ICdoZWxwJ1xyXG5cdGhlbHAuaW5uZXJIVE1MID0gXCI8cD5FeGVtcGVsOjwvcD48cHJlPiN7dXJsLmpvaW4gXCJcXG5cIn08L3ByZT5cIlxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZXJnZXInKS5hcHBlbmRDaGlsZCBoZWxwXHJcblxyXG5cdGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICdhJ1xyXG5cdGxpbmsuaHJlZiA9IHVybC5qb2luICcnXHJcblx0bGluay50ZXh0ID0gXCJFeGVtcGVsXCJcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVyZ2VyJykuYXBwZW5kQ2hpbGQgbGlua1xyXG5cclxuc2hvd0JlcmdlciA9ICh0aXRsZSwgcGxheWVycywgcm91bmRzLCByZXN1bHRzLCBwb2ludHMsIE1BWCkgLT5cclxuXHRoMiA9ICBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICdoMidcclxuXHRoMi50ZXh0Q29udGVudCA9IHRpdGxlXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JlcmdlcicpLmFwcGVuZENoaWxkIGgyXHJcblxyXG5cdHRibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ3RhYmxlJ1xyXG5cdGhlYWRlciA9IHRibC5pbnNlcnRSb3coKVxyXG5cdGhlYWRlci5pbm5lckhUTUwgPSAnPHRoPiM8L3RoPjx0aD5OYW1uPC90aD48dGg+RWxvPC90aD4nXHJcblx0Zm9yIGkgaW4gWzAuLi5yb3VuZHMubGVuZ3RoXVxyXG5cdFx0Y2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ3RoJ1xyXG5cdFx0Y2VsbC50ZXh0Q29udGVudCA9IFwiI3tpKzF9XCJcclxuXHRcdGRvIChpKSAtPlxyXG5cdFx0XHRjZWxsLmFkZEV2ZW50TGlzdGVuZXIgJ2NsaWNrJywgLT5cclxuXHRcdFx0XHRlY2hvIFwiRHUga2xpY2thZGUgcMOlIHJvbmQgI3tpKzF9XCJcclxuXHRcdFx0XHRzaG93VGFibGVzIHJvdW5kc1tpXSBvciBbXSwgcGxheWVycywgaSwgcmVzdWx0cywgTUFYXHJcblxyXG5cdFx0aGVhZGVyLmFwcGVuZENoaWxkIGNlbGxcclxuXHRjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAndGgnXHJcblx0Y2VsbC50ZXh0Q29udGVudCA9IFwiUG/DpG5nXCJcclxuXHRoZWFkZXIuYXBwZW5kQ2hpbGQgY2VsbFxyXG5cclxuXHRjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAndGgnXHJcblx0Y2VsbC50ZXh0Q29udGVudCA9IFwiUFJcIlxyXG5cdGhlYWRlci5hcHBlbmRDaGlsZCBjZWxsXHJcblxyXG5cdGZvciBwLCBpIGluIHBsYXllcnNcclxuXHRcdHJvdyA9IHRibC5pbnNlcnRSb3coKVxyXG5cdFx0cm93Lmluc2VydENlbGwoKS50ZXh0Q29udGVudCA9IGkgKyAxXHJcblx0XHRcclxuXHRcdGNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpXHJcblx0XHRjZWxsLnRleHRDb250ZW50ID0gcC5uYW1lXHJcblx0XHRjZWxsLnN0eWxlLnRleHRBbGlnbiA9ICdsZWZ0J1xyXG5cclxuXHRcdG9wcEVsb3MgPSBbXVxyXG5cdFx0cm93Lmluc2VydENlbGwoKS50ZXh0Q29udGVudCA9IHAuZWxvXHJcblx0XHRmb3IgciBpbiBbMC4uLnJvdW5kcy5sZW5ndGhdXHJcblx0XHRcdGNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgpXHJcblx0XHRcdHRhYmxlSW5kZXggPSByb3VuZHNbcl0uZmluZEluZGV4KChbdywgYl0pIC0+IHcgPT0gaSBvciBiID09IGkpXHJcblx0XHRcdGlmIHRhYmxlSW5kZXggPT0gLTEgdGhlbiBjb250aW51ZVxyXG5cdFx0XHRyZXN1bHQgPSByZXN1bHRzW3JdP1t0YWJsZUluZGV4XSBvciBcIlwiXHJcblx0XHRcdHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlIFwieFwiLCBcIlwiXHJcblxyXG5cdFx0XHRbdywgYl0gPSByb3VuZHNbcl1bdGFibGVJbmRleF1cclxuXHRcdFx0b3Bwb25lbnQgPSBpZiB3ID09IGkgdGhlbiBiIGVsc2Ugd1xyXG5cdFx0XHRpZiByZXN1bHQgaW4gUkVTVUxUUyBhbmQgcGxheWVyc1tvcHBvbmVudF0uZWxvICE9IDAgdGhlbiBvcHBFbG9zLnB1c2ggcGxheWVyc1tvcHBvbmVudF0uZWxvXHJcblxyXG5cdFx0XHRpZiBpID09IGIgYW5kIHJlc3VsdCAhPSBcIlwiIHRoZW4gcmVzdWx0ID0gTUFYIC0gcGFyc2VJbnQgcmVzdWx0XHJcblxyXG5cdFx0XHRpZiBpID09IHcgdGhlbiBhID0gXCJyaWdodDotN3B4XCIgZWxzZSBhID0gXCJsZWZ0Oi03cHhcIlxyXG5cclxuXHRcdFx0aHRtbCA9IFwiXCJcclxuXHRcdFx0aHRtbCArPSBcIjxkaXYgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlOyB0b3A6LTE3cHg7ICN7YX07IGZvbnQtc2l6ZTowLjdlbTsnPiN7b3Bwb25lbnQgKyAxfTwvZGl2PlwiXHJcblx0XHRcdGh0bWwgKz0gXCI8ZGl2IHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOi00cHg7ICAgICAgICBmb250LXNpemU6MS4wZW07Jz4je3Jlc3VsdH08L2Rpdj5cIlxyXG5cdFx0XHRjZWxsLmlubmVySFRNTCA9IFwiPGRpdiBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmU7Jz5cIiArIGh0bWwgKyBcIjwvZGl2PlwiXHJcblxyXG5cdFx0Y2VsbCA9IHJvdy5pbnNlcnRDZWxsKClcclxuXHRcdGNlbGwudGV4dENvbnRlbnQgPSBwb2ludHNbaV1cclxuXHRcdGNlbGwuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0J1xyXG5cclxuXHRcdHJvdy5pbnNlcnRDZWxsKCkudGV4dENvbnRlbnQgPSBwZXJmb3JtYW5jZShwb2ludHNbaV0vTUFYLCBvcHBFbG9zKS50b0ZpeGVkIDBcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVyZ2VyJykuYXBwZW5kQ2hpbGQgdGJsXHJcblxyXG5wcmV0dGlmeSA9IChjaCxNQVgpIC0+XHJcblx0aWYgY2ggaW4gUkVTVUxUUyB0aGVuIHJldHVybiBcIiN7Y2h9IC0gI3tNQVggLSBjaH1cIlxyXG5cdFwiLVwiXHJcblxyXG5zaG93VGFibGVzID0gKHJvdW5kcywgcGxheWVycywgc2VsZWN0ZWRSb3VuZCwgcmVzdWx0cywgTUFYKSAtPlxyXG5cdGlmIHJvdW5kcy5sZW5ndGggPT0gMCB0aGVuIHJldHVyblxyXG5cclxuXHR0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ2gyJ1xyXG5cdHRpdGxlLnRleHRDb250ZW50ID0gXCJCb3Jkc2xpc3RhIGbDtnIgcm9uZCAje3NlbGVjdGVkUm91bmQrMX1cIlxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZXMnKS5pbm5lckhUTUwgPSAnJ1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZXMnKS5hcHBlbmRDaGlsZCB0aXRsZVxyXG5cclxuXHR0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ3RhYmxlJ1xyXG5cclxuXHRoZWFkZXIgPSB0YWJsZS5pbnNlcnRSb3coKVxyXG5cdGhlYWRlci5pbm5lckhUTUwgPSBcIjx0aD5Cb3JkPC90aD48dGg+Vml0PC90aD48dGg+U3ZhcnQ8L3RoPjx0aD4je1JFU1VMVFN9PC90aD5cIlxyXG5cclxuXHRmb3IgaSBpbiBbMC4uLnJvdW5kcy5sZW5ndGhdXHJcblx0XHR0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ3RyJ1xyXG5cdFx0W3csIGJdID0gcm91bmRzW2ldXHJcblx0XHR2aXQgPSBwbGF5ZXJzW3ddPy5uYW1lIG9yIFwiXCJcclxuXHRcdHN2YXJ0ID0gcGxheWVyc1tiXT8ubmFtZSBvciBcIlwiXHJcblxyXG5cdFx0dGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICd0ZCdcclxuXHRcdHRkLnRleHRDb250ZW50ID0gXCIje2kgKyAxfVwiXHJcblx0XHR0ci5hcHBlbmRDaGlsZCB0ZFxyXG5cclxuXHRcdHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAndGQnXHJcblx0XHR0ZC50ZXh0Q29udGVudCA9IHZpdFxyXG5cdFx0dGQuc3R5bGUudGV4dEFsaWduID0gJ2xlZnQnXHJcblx0XHR0ci5hcHBlbmRDaGlsZCB0ZFxyXG5cclxuXHRcdHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAndGQnXHJcblx0XHR0ZC50ZXh0Q29udGVudCA9IHN2YXJ0XHJcblx0XHR0ZC5zdHlsZS50ZXh0QWxpZ24gPSAnbGVmdCdcclxuXHRcdHRyLmFwcGVuZENoaWxkIHRkXHJcblxyXG5cdFx0dGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICd0ZCdcclxuXHRcdHRkLnRleHRDb250ZW50ID0gcHJldHRpZnkgcmVzdWx0c1tzZWxlY3RlZFJvdW5kXVtpXSwgTUFYXHJcblx0XHR0ZC5zdHlsZS5hbGlnbiA9ICdjZW50ZXInXHJcblx0XHR0ci5hcHBlbmRDaGlsZCB0ZFxyXG5cclxuXHRcdHRhYmxlLmFwcGVuZENoaWxkIHRyXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlcycpLmFwcGVuZENoaWxkIHRhYmxlXHJcblxyXG5tYWluID0gLT5cclxuXHR7cGxheWVycywgcmVzdWx0cywgdGl0bGUsIE1BWH0gPSBwYXJzZVF1ZXJ5KClcclxuXHRkb2N1bWVudC50aXRsZSA9IHRpdGxlXHJcblxyXG5cdGlmIHBsYXllcnMubGVuZ3RoIDwgNFxyXG5cdFx0c2hvd0hlbHAoKVxyXG5cdFx0cmV0dXJuXHJcblx0cm91bmRzID0gbWFrZUJlcmdlcihwbGF5ZXJzLmxlbmd0aClcclxuXHRlY2hvIHJvdW5kc1xyXG5cdHBvaW50cyA9IEFycmF5KHBsYXllcnMubGVuZ3RoKS5maWxsKDApXHJcblxyXG5cdGZvciBpIGluIFswLi4ucmVzdWx0cy5sZW5ndGhdXHJcblx0XHRyZXMgPSByZXN1bHRzW2ldXHJcblx0XHRyb3VuZCA9IHJvdW5kc1tpXVxyXG5cdFx0Zm9yIGosIFt3LCBiXSBvZiByb3VuZFxyXG5cdFx0XHRpZiByZXNbal0gaW4gUkVTVUxUU1xyXG5cdFx0XHRcdHBvaW50c1t3XSArPSBwYXJzZUludCByZXNbal1cclxuXHRcdFx0XHRwb2ludHNbYl0gKz0gTUFYIC0gcGFyc2VJbnQgcmVzW2pdXHJcblxyXG5cdHNob3dCZXJnZXIgdGl0bGUsIHBsYXllcnMsIHJvdW5kcywgcmVzdWx0cywgcG9pbnRzLCBNQVhcclxuXHRzaG93VGFibGVzIHJvdW5kc1swXSBvciBbXSwgcGxheWVycywgMCwgcmVzdWx0cywgTUFYXHJcblxyXG5tYWluKClcclxuIl19
//# sourceURL=c:\github\2025\013-Berger\berger.coffee