// Generated by CoffeeScript 2.7.0
var GAMES, RESULTS, ROUNDS, TITLE, alignCenter, alignLeft, alignRight, display, echo, findNumberOfDecimals, main, makeBerger, makeFairPair, parseQuery, parseTextarea, players, prettify, range, results, rounds, roundsContent, safeGet, savePairing, showInfo, showPlayers, showTables, skapaSorteringsklick, sorteringsOrdning,
  indexOf = [].indexOf;

import {
  Player
} from './player.js';

import {
  FairPair
} from './fairpair.js';

import {
  helpText
} from './texts.js';

import {
  performance
} from './rating.js';

import {
  table,
  thead,
  th,
  tr,
  td,
  a,
  div,
  pre,
  p,
  h2
} from './html.js';

echo = console.log;

range = _.range;

TITLE = '';

GAMES = 0;

ROUNDS = 0;

RESULTS = '';

alignLeft = {
  style: "text-align:left"
};

alignCenter = {
  style: "text-align:center"
};

alignRight = {
  style: "text-align:right"
};

players = [];

rounds = []; // vem möter vem? [w,b]

results = []; // ['012xx', '22210'] Vitspelarnas resultat i varje rond

display = 3; // both

sorteringsOrdning = {}; // Spara per kolumn

findNumberOfDecimals = function(lst) {
  var best, i, ibest, item, k, len, ref, unik;
  best = 0;
  ref = range(6);
  for (k = 0, len = ref.length; k < len; k++) {
    i = ref[k];
    unik = _.uniq((function() {
      var l, len1, results1;
      results1 = [];
      for (l = 0, len1 = lst.length; l < len1; l++) {
        item = lst[l];
        results1.push(item.toFixed(i));
      }
      return results1;
    })());
    if (unik.length > best) {
      [best, ibest] = [unik.length, i];
    }
  }
  return ibest;
};

skapaSorteringsklick = function() {
  var _th, index, k, len, results1, ths;
  ths = document.querySelectorAll('#stallning th');
  //echo ths
  index = -1;
  results1 = [];
  for (k = 0, len = ths.length; k < len; k++) {
    _th = ths[k];
    index += 1;
    results1.push((function(_th, index) {
      return _th.addEventListener('click', function(event) {
        var key, l, len1, rad, rader, results2, stigande, tbody;
        key = _th.textContent;
        if (!isNaN(parseInt(key))) {
          key = parseInt(key) - 1;
          showTables(rounds[key] || [], key);
          return;
        }
        tbody = document.querySelector('#stallning tbody');
        rader = Array.from(tbody.querySelectorAll('tr'));
        stigande = indexOf.call("# Namn".split(' '), key) >= 0;
        rader.sort(function(a, b) {
          var cellA, cellB, numA, numB;
          cellA = a.children[index].textContent.trim();
          cellB = b.children[index].textContent.trim();
          // Försök jämföra som tal, annars som text
          numA = parseInt(cellA);
          numB = parseInt(cellB);
          if (!isNaN(numA) && !isNaN(numB)) {
            if (stigande) {
              return numA - numB;
            } else {
              return numB - numA;
            }
          } else {
            if (stigande) {
              return cellA.localeCompare(cellB);
            } else {
              return cellB.localeCompare(cellA);
            }
          }
        });
// Lägg tillbaka raderna i sorterad ordning
        results2 = [];
        for (l = 0, len1 = rader.length; l < len1; l++) {
          rad = rader[l];
          results2.push(tbody.appendChild(rad));
        }
        return results2;
      });
    })(_th, index));
  }
  return results1;
};

safeGet = function(params, key, standard = "") {
  if (params.get(key)) {
    return params.get(key).trim();
  }
  if (params.get(' ' + key)) {
    return params.get(' ' + key).trim();
  }
  return standard;
};

parseQuery = function() {
  var LOG2, N, elo, i, k, l, len, len1, name, params, person, persons, ref, results1;
  echo(window.location.search);
  params = new URLSearchParams(window.location.search);
  TITLE = safeGet(params, "TITLE");
  GAMES = parseInt(safeGet(params, "GAMES", "1"));
  RESULTS = '012345678'.slice(0, 2 * GAMES + 1);
  // TYPE = safeGet params, "TYPE", 'Berger'
  players = [];
  persons = params.getAll("p");
  persons.sort().reverse();
  for (k = 0, len = persons.length; k < len; k++) {
    person = persons[k];
    elo = parseInt(person.slice(0, 4));
    name = person.slice(4).trim();
    echo(elo, name);
    players.push(new Player(players.length, name, elo));
  }
  ROUNDS = parseInt(safeGet(params, "ROUNDS", players.length - 1));
  echo({TITLE, GAMES, ROUNDS});
  N = players.length;
  LOG2 = Math.ceil(Math.log2(N));
  if (ROUNDS === N - 1) {

  } else if (ROUNDS < LOG2) {
    alert(`Too few ROUNDS! Minimum is ${LOG2}`);
  } else if (ROUNDS >= N) {
    alert(`Too many ROUNDS! Maximum is ${N - 1}`);
  }
  results = [];
  ref = range(ROUNDS);
  results1 = [];
  for (l = 0, len1 = ref.length; l < len1; l++) {
    i = ref[l];
    results1.push(results.push(safeGet(params, `r${i + 1}`, "x".repeat(players.length / 2))));
  }
  return results1;
};

parseTextarea = function() {
  var k, key, l, len, len1, len2, line, lines, m, player, r, raw, ref, url, val;
  echo('parseTextArea');
  raw = document.getElementById("textarea");
  echo(raw.value);
  lines = raw.value;
  lines = lines.split("\n");
  for (k = 0, len = lines.length; k < len; k++) {
    line = lines[k];
    if (line === "") {
      continue;
    }
    if (line.includes('=')) {
      [key, val] = line.split('=');
      if (key === 'TITLE') {
        TITLE = val;
      }
      if (key === 'GAMES') {
        GAMES = val;
      }
      if (key === 'ROUNDS') {
        ROUNDS = val;
      }
      if (key[0] === 'r') {
        rounds.push(val);
      }
    } else {
      players.push(line);
    }
  }
  url = 'http://127.0.0.1:5501';
  url += `?TITLE=${TITLE}`;
  url += `&GAMES=${GAMES}`;
  url += `&ROUNDS=${ROUNDS}`;
  for (l = 0, len1 = players.length; l < len1; l++) {
    player = players[l];
    url += `&p=${player}`;
  }
  ref = range(rounds.length);
  for (m = 0, len2 = ref.length; m < len2; m++) {
    r = ref[m];
    url += `&r${r + 1}=${rounds[r]}`;
  }
  url = url.replaceAll(' ', '+');
  echo(url);
  return window.location.href = url;
};

savePairing = function(r, A, half, n) {
  var i, k, lst, ref;
  lst = r % 2 === 1 ? [[A[n - 1], A[0]]] : [[A[0], A[n - 1]]];
  for (i = k = 1, ref = half; (1 <= ref ? k < ref : k > ref); i = 1 <= ref ? ++k : --k) {
    lst.push([A[i], A[n - 1 - i]]);
  }
  return lst;
};

makeBerger = function() {
  var A, half, i, k, n, ref;
  n = players.length;
  if (n % 2 === 1) {
    n += 1;
  }
  half = Math.floor(n / 2);
  A = (function() {
    var results1 = [];
    for (var k = 0; 0 <= n ? k < n : k > n; 0 <= n ? k++ : k--){ results1.push(k); }
    return results1;
  }).apply(this);
  rounds = [];
  for (i = k = 0, ref = n - 1; (0 <= ref ? k < ref : k > ref); i = 0 <= ref ? ++k : --k) {
    rounds.push(savePairing(i, A, half, n));
    A.pop();
    A = A.slice(half).concat(A.slice(0, half));
    A.push(n - 1);
  }
  return rounds;
};

makeFairPair = function() {
  var fairpair, i, k, len, line, ref;
  fairpair = new FairPair(players, ROUNDS, GAMES);
  echo("");
  ref = range(players.length);
  for (k = 0, len = ref.length; k < len; k++) {
    i = ref[k];
    line = fairpair.matrix[i];
    echo(i % 10 + '   ' + line.join('   ') + '  ' + players[i].elo);
  }
  echo('summa', fairpair.summa);
  return fairpair.rounds;
};

showInfo = function() {
  return document.getElementById('info').innerHTML = div({}, div({
    class: "help"
  }, pre({}, helpText)));
};

roundsContent = function(points, i) { // rondernas data + poäng + PR
  var attr, b, cell, k, len, oppElos, opponent, pointsPR, r, ref, ref1, ref2, result, ronder, tableIndex, w;
  ronder = [];
  oppElos = [];
  pointsPR = 0;
  ref = range(rounds.length);
  for (k = 0, len = ref.length; k < len; k++) {
    r = ref[k];
    tableIndex = rounds[r].findIndex(function([w, b]) {
      return w === i || b === i;
    });
    if (tableIndex === -1) {
      continue;
    }
    result = (ref1 = results[r]) != null ? ref1[tableIndex] : void 0;
    [w, b] = rounds[r][tableIndex];
    opponent = w === i ? b : w;
    if (indexOf.call(RESULTS, result) >= 0) {
      if (w === i) {
        result = parseInt(result);
      } else {
        result = 2 * GAMES - parseInt(result);
      }
      if ((ref2 = result.toString(), indexOf.call(RESULTS, ref2) >= 0) && players[opponent].elo !== 0) {
        oppElos.push(players[opponent].elo);
        pointsPR += parseInt(result);
      }
    } else {
      result = "";
    }
    if (i === w) {
      attr = "right:0px;";
    } else {
      attr = "left:0px;";
    }
    cell = td({
      style: "position:relative;"
    }, div({
      style: "position:absolute; top:0px;" + attr + "font-size:0.7em;"
    }, opponent + 1), div({
      style: "position:absolute; top:12px;           font-size:1.1em;"
    }, result));
    ronder.push(cell);
  }
  ronder.push(td(alignRight, points[i]));
  ronder.push(td({}, performance(pointsPR / (2 * GAMES), oppElos)));
  return ronder.join("");
};

showPlayers = function(points) {
  var decimals, i, k, l, len, len1, lst, player, rad, rader, result, results1, rows, tbody, value;
  rows = [];
  for (i = k = 0, len = players.length; k < len; i = ++k) {
    player = players[i];
    rows.push(tr({}, td({}, i + 1), td(alignLeft, player.name), td({}, player.elo), roundsContent(points, i)));
  }
  result = div({}, h2({}, TITLE), table({}, thead({}, th({}, "#"), th({}, "Namn"), th({}, "Elo"), ((function() {
    var l, len1, ref, results1;
    ref = range(rounds.length);
    results1 = [];
    for (l = 0, len1 = ref.length; l < len1; l++) {
      i = ref[l];
      results1.push(th({}, `${i + 1}`));
    }
    return results1;
  })()).join(""), th({}, "P"), th({}, "PR")), rows.join("")));
  document.getElementById('stallning').innerHTML = result;
  // Sätt antal decimaler för PR
  tbody = document.querySelector('#stallning tbody');
  rader = Array.from(tbody.querySelectorAll('tr'));
  lst = (function() {
    var l, len1, results1;
    results1 = [];
    for (l = 0, len1 = rader.length; l < len1; l++) {
      rad = rader[l];
      results1.push(parseFloat(rad.children[rad.children.length - 1].textContent));
    }
    return results1;
  })();
  decimals = findNumberOfDecimals(lst);
  results1 = [];
  for (l = 0, len1 = rader.length; l < len1; l++) {
    rad = rader[l];
    value = parseFloat(_.last(rad.children).textContent);
    value = value > 3999 ? "" : value.toFixed(decimals);
    results1.push(_.last(rad.children).textContent = value);
  }
  return results1;
};

prettify = function(ch) {
  if (indexOf.call(RESULTS, ch) >= 0) {
    return `${ch} - ${2 * GAMES - ch}`;
  }
  return "-";
};

showTables = function(rounds, selectedRound) {
  var b, i, k, len, ref, ref1, ref2, result, rows, svart, vit, w;
  if (rounds.length === 0) {
    return;
  }
  rows = "";
  ref = range(rounds.length);
  for (k = 0, len = ref.length; k < len; k++) {
    i = ref[k];
    [w, b] = rounds[i];
    vit = ((ref1 = players[w]) != null ? ref1.name : void 0) || "";
    svart = ((ref2 = players[b]) != null ? ref2.name : void 0) || "";
    rows += tr({}, td({}, i + 1), td(alignLeft, vit), td(alignLeft, svart), td(alignCenter, prettify(results[selectedRound][i])));
  }
  result = div({}, h2({}, `Bordslista för rond ${selectedRound + 1}`), table({}, thead({}, th({}, "Bord"), th({}, "Vit"), th({}, "Svart"), th({}, `${RESULTS}`)), rows));
  return document.getElementById('tables').innerHTML = result;
};

main = function() {
  var b, i, j, k, len, params, points, ref, ref1, res, round, w;
  params = new URLSearchParams(window.location.search);
  echo(params);
  if (params.size === 0) {
    document.getElementById("button").addEventListener("click", parseTextarea);
    showInfo();
    return;
  }
  document.getElementById("textarea").style = 'display: none';
  document.getElementById("button").style = 'display: none';
  parseQuery();
  document.title = TITLE;
  if (players.length < 4) {
    showInfo();
    return;
  }
  if (ROUNDS === players.length - 1) {
    rounds = makeBerger();
  } else {
    rounds = makeFairPair();
  }
  points = Array(players.length).fill(0);
  ref = range(results.length);
  for (k = 0, len = ref.length; k < len; k++) {
    i = ref[k];
    res = results[i];
    round = rounds[i];
    for (j in round) {
      [w, b] = round[j];
      if (ref1 = res[j], indexOf.call(RESULTS, ref1) >= 0) {
        points[w] += parseInt(res[j]);
        points[b] += 2 * GAMES - parseInt(res[j]);
      }
    }
  }
  showPlayers(points);
  showTables(rounds[0] || [], 0);
  return skapaSorteringsklick();
};

document.addEventListener('keyup', function(event) {
  var ref, ref1, ref2;
  if (ref = event.key, indexOf.call('123', ref) >= 0) {
    document.getElementById("stallning").style.display = (ref1 = event.key, indexOf.call("13", ref1) >= 0) ? "table" : "none";
    return document.getElementById("tables").style.display = (ref2 = event.key, indexOf.call("23", ref2) >= 0) ? "table" : "none";
  }
});

main();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG91cm5hbWVudC5qcyIsInNvdXJjZVJvb3QiOiJcXCIsInNvdXJjZXMiOlsidG91cm5hbWVudC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsb0JBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsYUFBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsYUFBQSxFQUFBLE9BQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQUEsb0JBQUEsRUFBQSxpQkFBQTtFQUFBOztBQUFBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsUUFBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLFFBQVI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxXQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsS0FBUjtFQUFjLEtBQWQ7RUFBb0IsRUFBcEI7RUFBdUIsRUFBdkI7RUFBMEIsRUFBMUI7RUFBNkIsQ0FBN0I7RUFBK0IsR0FBL0I7RUFBbUMsR0FBbkM7RUFBdUMsQ0FBdkM7RUFBeUMsRUFBekM7Q0FBQSxNQUFBOztBQUVBLElBQUEsR0FBTyxPQUFPLENBQUM7O0FBQ2YsS0FBQSxHQUFRLENBQUMsQ0FBQzs7QUFFVixLQUFBLEdBQVE7O0FBQ1IsS0FBQSxHQUFROztBQUNSLE1BQUEsR0FBUzs7QUFFVCxPQUFBLEdBQVU7O0FBRVYsU0FBQSxHQUFjO0VBQUMsS0FBQSxFQUFPO0FBQVI7O0FBQ2QsV0FBQSxHQUFjO0VBQUMsS0FBQSxFQUFPO0FBQVI7O0FBQ2QsVUFBQSxHQUFjO0VBQUMsS0FBQSxFQUFPO0FBQVI7O0FBRWQsT0FBQSxH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QUo7TUFDTixXQUFHLEdBQUcsQ0FBQyxDQUFELGdCQUFPLFNBQVYsVUFBSDtRQUNDLE1BQU0sQ0FBQyxDQUFELENBQU4sSUFBYSxRQUFBLENBQVMsR0FBRyxDQUFDLENBQUQsQ0FBWjtRQUNiLE1BQU0sQ0FBQyxDQUFELENBQU4sSUFBYSxDQUFBLEdBQUUsS0FBRixHQUFVLFFBQUEsQ0FBUyxHQUFHLENBQUMsQ0FBRCxDQUFaLEVBRnhCOztJQUREO0VBSEQ7RUFRQSxXQUFBLENBQVksTUFBWjtFQUNBLFVBQUEsQ0FBVyxNQUFNLENBQUMsQ0FBRCxDQUFOLElBQWEsRUFBeEIsRUFBNEIsQ0FBNUI7U0FFQSxvQkFBQSxDQUFBO0FBdkNNOztBQXlDUCxRQUFRLENBQUMsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsUUFBQSxDQUFDLEtBQUQsQ0FBQTtBQUVuQyxNQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUE7RUFBQyxVQUFHLEtBQUssQ0FBQyxrQkFBTyxPQUFiLFNBQUg7SUFDQyxRQUFRLENBQUMsY0FBVCxDQUF3QixXQUF4QixDQUFvQyxDQUFDLEtBQUssQ0FBQyxPQUEzQyxXQUF3RCxLQUFLLENBQUMsa0JBQU8sTUFBYixXQUFILEdBQTBCLE9BQTFCLEdBQXVDO1dBQzVGLFFBQVEsQ0FBQyxjQUFULENBQXdCLFFBQXhCLENBQWlDLENBQUMsS0FBSyxDQUFDLE9BQXhDLFdBQXFELEtBQUssQ0FBQyxrQkFBTyxNQUFiLFdBQUgsR0FBMEIsT0FBMUIsR0FBdUMsT0FGMUY7O0FBRmtDLENBQW5DOztBQU1BLElBQUEsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UGxheWVyfSBmcm9tICcuL3BsYXllci5qcydcclxuaW1wb3J0IHtGYWlyUGFpcn0gZnJvbSAnLi9mYWlycGFpci5qcydcclxuaW1wb3J0IHtoZWxwVGV4dH0gZnJvbSAnLi90ZXh0cy5qcydcclxuaW1wb3J0IHtwZXJmb3JtYW5jZX0gZnJvbSAnLi9yYXRpbmcuanMnXHJcbmltcG9ydCB7dGFibGUsdGhlYWQsdGgsdHIsdGQsYSxkaXYscHJlLHAsaDJ9IGZyb20gJy4vaHRtbC5qcydcclxuXHJcbmVjaG8gPSBjb25zb2xlLmxvZ1xyXG5yYW5nZSA9IF8ucmFuZ2VcclxuXHJcblRJVExFID0gJydcclxuR0FNRVMgPSAwXHJcblJPVU5EUyA9IDBcclxuXHJcblJFU1VMVFMgPSAnJ1xyXG5cclxuYWxpZ25MZWZ0ICAgPSB7c3R5bGU6IFwidGV4dC1hbGlnbjpsZWZ0XCJ9XHJcbmFsaWduQ2VudGVyID0ge3N0eWxlOiBcInRleHQtYWxpZ246Y2VudGVyXCJ9XHJcbmFsaWduUmlnaHQgID0ge3N0eWxlOiBcInRleHQtYWxpZ246cmlnaHRcIn1cclxuXHJcbnBsYXllcnMgPSBbXVxyXG5yb3VuZHMgPSBbXSAjIHZlbSBtw7Z0ZXIgdmVtPyBbdyxiXVxyXG5yZXN1bHRzID0gW10gIyBbJzAxMnh4JywgJzIyMjEwJ10gVml0c3BlbGFybmFzIHJlc3VsdGF0IGkgdmFyamUgcm9uZFxyXG5cclxuZGlzcGxheSA9IDMgIyBib3RoXHJcblxyXG5zb3J0ZXJpbmdzT3JkbmluZyA9IHt9XHQjIFNwYXJhIHBlciBrb2x1bW5cclxuXHJcbmZpbmROdW1iZXJPZkRlY2ltYWxzID0gKGxzdCkgLT5cclxuXHRiZXN0ID0gMFxyXG5cdGZvciBpIGluIHJhbmdlIDZcclxuXHRcdHVuaWsgPSBfLnVuaXEgKGl0ZW0udG9GaXhlZChpKSBmb3IgaXRlbSBpbiBsc3QpXHJcblx0XHRpZiB1bmlrLmxlbmd0aCA+IGJlc3QgdGhlbiBbYmVzdCxpYmVzdF0gPSBbdW5pay5sZW5ndGgsaV1cclxuXHRpYmVzdFxyXG5cclxuc2thcGFTb3J0ZXJpbmdza2xpY2sgPSAtPlxyXG5cclxuXHR0aHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsICcjc3RhbGxuaW5nIHRoJ1xyXG5cclxuXHQjZWNobyB0aHNcclxuXHRpbmRleCA9IC0xXHJcblx0Zm9yIF90aCBpbiB0aHNcclxuXHRcdGluZGV4ICs9IDFcclxuXHRcdGRvIChfdGgsaW5kZXgpIC0+XHJcblx0XHRcdF90aC5hZGRFdmVudExpc3RlbmVyICdjbGljaycsIChldmVudCkgLT5cclxuXHRcdFx0XHRrZXkgPSBfdGgudGV4dENvbnRlbnRcclxuXHRcdFx0XHRpZiAhaXNOYU4gcGFyc2VJbnQga2V5XHJcblx0XHRcdFx0XHRrZXkgPSBwYXJzZUludChrZXkpIC0gMSBcclxuXHRcdFx0XHRcdHNob3dUYWJsZXMgcm91bmRzW2tleV0gb3IgW10sIGtleVxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRcdHRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnI3N0YWxsbmluZyB0Ym9keSdcclxuXHRcdFx0XHRyYWRlciA9IEFycmF5LmZyb20gdGJvZHkucXVlcnlTZWxlY3RvckFsbCAndHInXHJcblx0XHRcdFx0c3RpZ2FuZGUgPSBrZXkgaW4gXCIjIE5hbW5cIi5zcGxpdCAnICdcclxuXHJcblx0XHRcdFx0cmFkZXIuc29ydCAoYSwgYikgLT5cclxuXHRcdFx0XHRcdGNlbGxBID0gYS5jaGlsZHJlbltpbmRleF0udGV4dENvbnRlbnQudHJpbSgpXHJcblx0XHRcdFx0XHRjZWxsQiA9IGIuY2hpbGRyZW5baW5kZXhdLnRleHRDb250ZW50LnRyaW0oKVxyXG5cclxuXHRcdFx0XHRcdCMgRsO2cnPDtmsgasOkbWbDtnJhIHNvbSB0YWwsIGFubmFycyBzb20gdGV4dFxyXG5cdFx0XHRcdFx0bnVtQSA9IHBhcnNlSW50IGNlbGxBXHJcblx0XHRcdFx0XHRudW1CID0gcGFyc2VJbnQgY2VsbEJcclxuXHRcdFx0XHRcdGlmICFpc05hTihudW1BKSBhbmQgIWlzTmFOKG51bUIpXHJcblx0XHRcdFx0XHRcdHJldHVybiBpZiBzdGlnYW5kZSB0aGVuIG51bUEgLSBudW1CIGVsc2UgbnVtQiAtIG51bUFcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGlmIHN0aWdhbmRlIHRoZW4gY2VsbEEubG9jYWxlQ29tcGFyZSBjZWxsQiBlbHNlIGNlbGxCLmxvY2FsZUNvbXBhcmUgY2VsbEFcclxuXHJcblx0XHRcdFx0IyBMw6RnZyB0aWxsYmFrYSByYWRlcm5hIGkgc29ydGVyYWQgb3JkbmluZ1xyXG5cdFx0XHRcdGZvciByYWQgaW4gcmFkZXJcclxuXHRcdFx0XHRcdHRib2R5LmFwcGVuZENoaWxkIHJhZFxyXG5cclxuc2FmZUdldCA9IChwYXJhbXMsa2V5LHN0YW5kYXJkPVwiXCIpIC0+IFxyXG5cdGlmIHBhcmFtcy5nZXQga2V5IHRoZW4gcmV0dXJuIHBhcmFtcy5nZXQoa2V5KS50cmltKClcclxuXHRpZiBwYXJhbXMuZ2V0ICcgJyArIGtleSB0aGVuIHJldHVybiBwYXJhbXMuZ2V0KCcgJyArIGtleSkudHJpbSgpXHJcblx0c3RhbmRhcmRcclxuXHJcbnBhcnNlUXVlcnkgPSAtPlxyXG5cdGVjaG8gd2luZG93LmxvY2F0aW9uLnNlYXJjaFxyXG5cdHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMgd2luZG93LmxvY2F0aW9uLnNlYXJjaFxyXG5cclxuXHRUSVRMRSA9IHNhZmVHZXQgcGFyYW1zLCBcIlRJVExFXCJcclxuXHRHQU1FUyA9IHBhcnNlSW50IHNhZmVHZXQgcGFyYW1zLCBcIkdBTUVTXCIsIFwiMVwiXHJcblx0UkVTVUxUUyA9ICcwMTIzNDU2NzgnLnNsaWNlIDAsIDIgKiBHQU1FUyArIDFcclxuXHQjIFRZUEUgPSBzYWZlR2V0IHBhcmFtcywgXCJUWVBFXCIsICdCZXJnZXInXHJcblx0cGxheWVycyA9IFtdXHJcblx0cGVyc29ucyA9IHBhcmFtcy5nZXRBbGwgXCJwXCJcclxuXHRwZXJzb25zLnNvcnQoKS5yZXZlcnNlKClcclxuXHRmb3IgcGVyc29uIGluIHBlcnNvbnNcclxuXHRcdGVsbyA9IHBhcnNlSW50IHBlcnNvbi5zbGljZSAwLDRcclxuXHRcdG5hbWUgPSBwZXJzb24uc2xpY2UoNCkudHJpbSgpXHJcblx0XHRlY2hvIGVsbyxuYW1lXHJcblx0XHRwbGF5ZXJzLnB1c2ggbmV3IFBsYXllciBwbGF5ZXJzLmxlbmd0aCwgbmFtZSwgZWxvXHJcblxyXG5cdFJPVU5EUyA9IHBhcnNlSW50IHNhZmVHZXQgcGFyYW1zLCBcIlJPVU5EU1wiLCBwbGF5ZXJzLmxlbmd0aC0xXHJcblx0ZWNobyB7VElUTEUsR0FNRVMsUk9VTkRTfVxyXG5cdE4gPSBwbGF5ZXJzLmxlbmd0aFxyXG5cdExPRzIgPSBNYXRoLmNlaWwgTWF0aC5sb2cyIE5cclxuXHRpZiBST1VORFMgPT0gTi0xIHRoZW4gIyBCZXJnZXJcclxuXHRlbHNlIGlmIFJPVU5EUyA8IExPRzIgdGhlbiBhbGVydCBcIlRvbyBmZXcgUk9VTkRTISBNaW5pbXVtIGlzICN7TE9HMn1cIlxyXG5cdGVsc2UgaWYgUk9VTkRTID49IE4gdGhlbiBhbGVydCBcIlRvbyBtYW55IFJPVU5EUyEgTWF4aW11bSBpcyAje04tMX1cIlxyXG5cclxuXHRyZXN1bHRzID0gW11cclxuXHRmb3IgaSBpbiByYW5nZSBST1VORFNcclxuXHRcdHJlc3VsdHMucHVzaCBzYWZlR2V0IHBhcmFtcywgXCJyI3tpKzF9XCIsIFwieFwiLnJlcGVhdCBwbGF5ZXJzLmxlbmd0aCAvIDJcclxuXHJcbnBhcnNlVGV4dGFyZWEgPSAtPlxyXG5cdGVjaG8gJ3BhcnNlVGV4dEFyZWEnXHJcblx0cmF3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0ZXh0YXJlYVwiXHJcblx0ZWNobyByYXcudmFsdWVcclxuXHJcblx0bGluZXMgPSByYXcudmFsdWVcclxuXHRsaW5lcyA9IGxpbmVzLnNwbGl0IFwiXFxuXCJcclxuXHJcblx0Zm9yIGxpbmUgaW4gbGluZXMgXHJcblx0XHRpZiBsaW5lID09IFwiXCIgdGhlbiBjb250aW51ZVxyXG5cdFx0aWYgbGluZS5pbmNsdWRlcyAnPSdcclxuXHRcdFx0W2tleSwgdmFsXSA9IGxpbmUuc3BsaXQgJz0nXHJcblx0XHRcdGlmIGtleSA9PSAnVElUTEUnIHRoZW4gVElUTEUgPSB2YWxcclxuXHRcdFx0aWYga2V5ID09ICdHQU1FUycgdGhlbiBHQU1FUyA9IHZhbFxyXG5cdFx0XHRpZiBrZXkgPT0gJ1JPVU5EUycgdGhlbiBST1VORFMgPSB2YWxcclxuXHRcdFx0aWYga2V5WzBdID09ICdyJyB0aGVuIHJvdW5kcy5wdXNoIHZhbFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRwbGF5ZXJzLnB1c2ggbGluZVxyXG5cclxuXHR1cmwgPSAnaHR0cDovLzEyNy4wLjAuMTo1NTAxJ1xyXG5cdHVybCArPSBcIj9USVRMRT0je1RJVExFfVwiXHJcblx0dXJsICs9IFwiJkdBTUVTPSN7R0FNRVN9XCJcclxuXHR1cmwgKz0gXCImUk9VTkRTPSN7Uk9VTkRTfVwiXHJcblx0Zm9yIHBsYXllciBpbiBwbGF5ZXJzXHJcblx0XHR1cmwgKz0gXCImcD0je3BsYXllcn1cIlxyXG5cdGZvciByIGluIHJhbmdlIHJvdW5kcy5sZW5ndGhcclxuXHRcdHVybCArPSBcIiZyI3tyKzF9PSN7cm91bmRzW3JdfVwiXHJcblxyXG5cdHVybCA9IHVybC5yZXBsYWNlQWxsICcgJywgJysnXHJcblxyXG5cdGVjaG8gdXJsXHJcblx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmxcclxuXHJcbnNhdmVQYWlyaW5nID0gKHIsIEEsIGhhbGYsIG4pIC0+XHJcblx0bHN0ID0gaWYgciAlIDIgPT0gMSB0aGVuIFtbQVtuIC0gMV0sIEFbMF1dXSBlbHNlIFtbQVswXSwgQVtuIC0gMV1dXVxyXG5cdGZvciBpIGluIFsxLi4uaGFsZl1cclxuXHRcdGxzdC5wdXNoIFtBW2ldLCBBW24gLSAxIC0gaV1dXHJcblx0bHN0XHJcblxyXG5tYWtlQmVyZ2VyID0gLT5cclxuXHRuID0gcGxheWVycy5sZW5ndGhcclxuXHRpZiBuICUgMiA9PSAxIHRoZW4gbiArPSAxXHJcblx0aGFsZiA9IG4gLy8gMiBcclxuXHRBID0gWzAuLi5uXVxyXG5cdHJvdW5kcyA9IFtdXHJcblx0Zm9yIGkgaW4gWzAuLi5uLTFdXHJcblx0XHRyb3VuZHMucHVzaChzYXZlUGFpcmluZyhpLCBBLCBoYWxmLCBuKSlcclxuXHRcdEEucG9wKClcclxuXHRcdEEgPSBBLnNsaWNlKGhhbGYpLmNvbmNhdCBBLnNsaWNlKDAsaGFsZilcclxuXHRcdEEucHVzaChuLTEpXHJcblx0cm91bmRzXHJcbiBcclxubWFrZUZhaXJQYWlyID0gLT5cclxuXHRmYWlycGFpciA9IG5ldyBGYWlyUGFpciBwbGF5ZXJzLCBST1VORFMsIEdBTUVTXHJcblxyXG5cdGVjaG8gXCJcIiBcclxuXHJcblx0Zm9yIGkgaW4gcmFuZ2UgcGxheWVycy5sZW5ndGhcclxuXHRcdGxpbmUgPSBmYWlycGFpci5tYXRyaXhbaV1cclxuXHRcdGVjaG8gaSUxMCArICcgICAnICsgbGluZS5qb2luKCcgICAnKSArICcgICcgKyBwbGF5ZXJzW2ldLmVsb1xyXG5cclxuXHRlY2hvICdzdW1tYScsIGZhaXJwYWlyLnN1bW1hXHJcblx0ZmFpcnBhaXIucm91bmRzXHJcblxyXG5zaG93SW5mbyA9IC0+XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZm8nKS5pbm5lckhUTUwgPSBkaXYge30sXHJcblx0XHRkaXYge2NsYXNzOlwiaGVscFwifSwgcHJlIHt9LCBoZWxwVGV4dFxyXG5cclxucm91bmRzQ29udGVudCA9IChwb2ludHMsIGkpIC0+ICMgcm9uZGVybmFzIGRhdGEgKyBwb8OkbmcgKyBQUlxyXG5cclxuXHRyb25kZXIgPSBbXVxyXG5cclxuXHRvcHBFbG9zID0gW11cclxuXHRwb2ludHNQUiA9IDBcclxuXHJcblx0Zm9yIHIgaW4gcmFuZ2Ugcm91bmRzLmxlbmd0aFxyXG5cclxuXHRcdHRhYmxlSW5kZXggPSByb3VuZHNbcl0uZmluZEluZGV4KChbdywgYl0pIC0+IHcgPT0gaSBvciBiID09IGkpXHJcblx0XHRpZiB0YWJsZUluZGV4ID09IC0xIHRoZW4gY29udGludWVcclxuXHRcdHJlc3VsdCA9IHJlc3VsdHNbcl0/W3RhYmxlSW5kZXhdXHJcblxyXG5cdFx0W3csIGJdID0gcm91bmRzW3JdW3RhYmxlSW5kZXhdXHJcblx0XHRvcHBvbmVudCA9IGlmIHcgPT0gaSB0aGVuIGIgZWxzZSB3XHJcblxyXG5cdFx0aWYgcmVzdWx0IGluIFJFU1VMVFNcclxuXHRcdFx0aWYgdyA9PSBpXHJcblx0XHRcdFx0cmVzdWx0ID0gcGFyc2VJbnQgcmVzdWx0IFxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmVzdWx0ID0gMiAqIEdBTUVTIC0gcGFyc2VJbnQgcmVzdWx0IFxyXG5cclxuXHRcdFx0aWYgcmVzdWx0LnRvU3RyaW5nKCkgaW4gUkVTVUxUUyBhbmQgcGxheWVyc1tvcHBvbmVudF0uZWxvICE9IDBcclxuXHRcdFx0XHRvcHBFbG9zLnB1c2ggcGxheWVyc1tvcHBvbmVudF0uZWxvXHJcblx0XHRcdFx0cG9pbnRzUFIgKz0gcGFyc2VJbnQgcmVzdWx0XHJcblx0XHRlbHNlXHJcblx0XHRcdHJlc3VsdCA9IFwiXCJcclxuXHJcblx0XHRpZiBpID09IHcgdGhlbiBhdHRyID0gXCJyaWdodDowcHg7XCIgZWxzZSBhdHRyID0gXCJsZWZ0OjBweDtcIlxyXG5cdFx0Y2VsbCA9IHRkIHtzdHlsZTogXCJwb3NpdGlvbjpyZWxhdGl2ZTtcIn0sXHJcblx0XHRcdGRpdiB7c3R5bGU6IFwicG9zaXRpb246YWJzb2x1dGU7IHRvcDowcHg7XCIgKyBhdHRyICsgXCJmb250LXNpemU6MC43ZW07XCJ9LCBvcHBvbmVudCArIDFcclxuXHRcdFx0ZGl2IHtzdHlsZTogXCJwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjEycHg7ICAgICAgICAgICBmb250LXNpemU6MS4xZW07XCJ9LCByZXN1bHRcclxuXHJcblx0XHRyb25kZXIucHVzaCBjZWxsXHJcblxyXG5cdHJvbmRlci5wdXNoXHR0ZCBhbGlnblJpZ2h0LCBwb2ludHNbaV1cclxuXHRyb25kZXIucHVzaCB0ZCB7fSwgcGVyZm9ybWFuY2UgcG9pbnRzUFIvKDIqR0FNRVMpLCBvcHBFbG9zXHJcblx0cm9uZGVyLmpvaW4gXCJcIlxyXG5cclxuc2hvd1BsYXllcnMgPSAocG9pbnRzKSAtPlxyXG5cclxuXHRyb3dzID0gW11cclxuXHJcblx0Zm9yIHBsYXllciwgaSBpbiBwbGF5ZXJzXHJcblxyXG5cdFx0cm93cy5wdXNoIHRyIHt9LFxyXG5cdFx0XHR0ZCB7fSwgaSArIDFcclxuXHRcdFx0dGQgYWxpZ25MZWZ0LCBwbGF5ZXIubmFtZVxyXG5cdFx0XHR0ZCB7fSwgcGxheWVyLmVsb1xyXG5cdFx0XHRyb3VuZHNDb250ZW50IHBvaW50cywgaVxyXG5cclxuXHRyZXN1bHQgPSBkaXYge30sXHJcblx0XHRoMiB7fSwgVElUTEVcclxuXHRcdHRhYmxlIHt9LFxyXG5cdFx0XHR0aGVhZCB7fSxcclxuXHRcdFx0XHR0aCB7fSwgXCIjXCJcclxuXHRcdFx0XHR0aCB7fSwgXCJOYW1uXCJcclxuXHRcdFx0XHR0aCB7fSwgXCJFbG9cIlxyXG5cdFx0XHRcdCh0aCB7fSwgXCIje2krMX1cIiBmb3IgaSBpbiByYW5nZSByb3VuZHMubGVuZ3RoKS5qb2luIFwiXCJcclxuXHRcdFx0XHR0aCB7fSwgXCJQXCJcclxuXHRcdFx0XHR0aCB7fSwgXCJQUlwiXHJcblx0XHRcdHJvd3Muam9pbiBcIlwiXHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFsbG5pbmcnKS5pbm5lckhUTUwgPSByZXN1bHRcclxuXHJcblx0IyBTw6R0dCBhbnRhbCBkZWNpbWFsZXIgZsO2ciBQUlxyXG5cdHRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAnI3N0YWxsbmluZyB0Ym9keSdcclxuXHRyYWRlciA9IEFycmF5LmZyb20gdGJvZHkucXVlcnlTZWxlY3RvckFsbCAndHInXHJcblx0bHN0ID0gKHBhcnNlRmxvYXQgcmFkLmNoaWxkcmVuW3JhZC5jaGlsZHJlbi5sZW5ndGgtMV0udGV4dENvbnRlbnQgZm9yIHJhZCBpbiByYWRlcilcclxuXHRkZWNpbWFscyA9IGZpbmROdW1iZXJPZkRlY2ltYWxzIGxzdFxyXG5cdGZvciByYWQgaW4gcmFkZXJcclxuXHRcdHZhbHVlID0gcGFyc2VGbG9hdCBfLmxhc3QocmFkLmNoaWxkcmVuKS50ZXh0Q29udGVudFxyXG5cdFx0dmFsdWUgPSBpZiB2YWx1ZSA+IDM5OTkgdGhlbiBcIlwiIGVsc2UgdmFsdWUudG9GaXhlZCBkZWNpbWFscyBcclxuXHRcdF8ubGFzdChyYWQuY2hpbGRyZW4pLnRleHRDb250ZW50ID0gdmFsdWVcclxuXHJcbnByZXR0aWZ5ID0gKGNoKSAtPlxyXG5cdGlmIGNoIGluIFJFU1VMVFMgdGhlbiByZXR1cm4gXCIje2NofSAtICN7MipHQU1FUyAtIGNofVwiXHJcblx0XCItXCJcclxuXHJcbnNob3dUYWJsZXMgPSAocm91bmRzLCBzZWxlY3RlZFJvdW5kKSAtPlxyXG5cdGlmIHJvdW5kcy5sZW5ndGggPT0gMCB0aGVuIHJldHVyblxyXG5cclxuXHRyb3dzID0gXCJcIlxyXG5cclxuXHRmb3IgaSBpbiByYW5nZSByb3VuZHMubGVuZ3RoXHJcblx0XHRbdywgYl0gPSByb3VuZHNbaV1cclxuXHRcdHZpdCA9IHBsYXllcnNbd10/Lm5hbWUgb3IgXCJcIlxyXG5cdFx0c3ZhcnQgPSBwbGF5ZXJzW2JdPy5uYW1lIG9yIFwiXCJcclxuXHJcblx0XHRyb3dzICs9IHRyIHt9LFxyXG5cdFx0XHR0ZCB7fSwgaSsxXHJcblx0XHRcdHRkIGFsaWduTGVmdCwgdml0XHJcblx0XHRcdHRkIGFsaWduTGVmdCwgc3ZhcnRcclxuXHRcdFx0dGQgYWxpZ25DZW50ZXIsIHByZXR0aWZ5IHJlc3VsdHNbc2VsZWN0ZWRSb3VuZF1baV1cclxuXHJcblx0cmVzdWx0ID0gZGl2IHt9LFxyXG5cdFx0aDIge30sIFwiQm9yZHNsaXN0YSBmw7ZyIHJvbmQgI3tzZWxlY3RlZFJvdW5kKzF9XCJcclxuXHRcdHRhYmxlIHt9LFxyXG5cdFx0XHR0aGVhZCB7fSxcclxuXHRcdFx0XHR0aCB7fSwgXCJCb3JkXCJcclxuXHRcdFx0XHR0aCB7fSwgXCJWaXRcIlxyXG5cdFx0XHRcdHRoIHt9LCBcIlN2YXJ0XCJcclxuXHRcdFx0XHR0aCB7fSwgXCIje1JFU1VMVFN9XCIgXHJcblx0XHRcdHJvd3NcclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlcycpLmlubmVySFRNTCA9IHJlc3VsdFxyXG5cclxubWFpbiA9IC0+XHJcblxyXG5cdHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMgd2luZG93LmxvY2F0aW9uLnNlYXJjaFxyXG5cdGVjaG8gcGFyYW1zXHJcblxyXG5cdGlmIHBhcmFtcy5zaXplID09IDAgXHJcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgcGFyc2VUZXh0YXJlYSBcclxuXHRcdHNob3dJbmZvKClcclxuXHRcdHJldHVyblxyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRleHRhcmVhXCIpLnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmUnXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25cIikuc3R5bGUgPSAnZGlzcGxheTogbm9uZSdcclxuXHJcblx0cGFyc2VRdWVyeSgpXHJcblxyXG5cdGRvY3VtZW50LnRpdGxlID0gVElUTEVcclxuXHJcblx0aWYgcGxheWVycy5sZW5ndGggPCA0XHJcblx0XHRzaG93SW5mbygpXHJcblx0XHRyZXR1cm5cclxuXHJcblx0aWYgUk9VTkRTID09IHBsYXllcnMubGVuZ3RoIC0gMVxyXG5cdFx0cm91bmRzID0gbWFrZUJlcmdlcigpXHJcblx0ZWxzZSBcclxuXHRcdHJvdW5kcyA9IG1ha2VGYWlyUGFpcigpXHJcblxyXG5cdHBvaW50cyA9IEFycmF5KHBsYXllcnMubGVuZ3RoKS5maWxsKDApXHJcblxyXG5cdGZvciBpIGluIHJhbmdlIHJlc3VsdHMubGVuZ3RoXHJcblx0XHRyZXMgPSByZXN1bHRzW2ldXHJcblx0XHRyb3VuZCA9IHJvdW5kc1tpXVxyXG5cdFx0Zm9yIGosIFt3LCBiXSBvZiByb3VuZFxyXG5cdFx0XHRpZiByZXNbal0gaW4gUkVTVUxUU1xyXG5cdFx0XHRcdHBvaW50c1t3XSArPSBwYXJzZUludCByZXNbal1cclxuXHRcdFx0XHRwb2ludHNbYl0gKz0gMipHQU1FUyAtIHBhcnNlSW50IHJlc1tqXVxyXG5cclxuXHRzaG93UGxheWVycyBwb2ludHNcclxuXHRzaG93VGFibGVzIHJvdW5kc1swXSBvciBbXSwgMFxyXG5cclxuXHRza2FwYVNvcnRlcmluZ3NrbGljaygpXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICdrZXl1cCcsIChldmVudCkgLT5cclxuXHJcblx0aWYgZXZlbnQua2V5IGluICcxMjMnIFxyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFsbG5pbmdcIikuc3R5bGUuZGlzcGxheSA9IGlmIGV2ZW50LmtleSBpbiBcIjEzXCIgdGhlbiBcInRhYmxlXCIgZWxzZSBcIm5vbmVcIlxyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWJsZXNcIikuc3R5bGUuZGlzcGxheSA9IGlmIGV2ZW50LmtleSBpbiBcIjIzXCIgdGhlbiBcInRhYmxlXCIgZWxzZSBcIm5vbmVcIlxyXG5cclxubWFpbigpXHJcbiJdfQ==
//# sourceURL=c:\github\2025\013-Berger\tournament.coffee